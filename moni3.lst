 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 1 - 2025年01月24日 12時43分11秒


    1/   0 :                            ;/*
    2/   0 :                            ; ===========================================
    3/   0 :                            ; *	SC/MP-III Sample Program
    4/   0 :                            ; ===========================================
    5/   0 :                            ; */
    6/   0 :                            ;
    7/   0 :                            ; プリアンブル
    8/   0 :                            ; ------------
    9/   0 :                            	  cpu 8070
   10/   0 :                            	  org 0
   11/   0 :                            
   12/   0 : =0xFF80                    wk1  = 0xff80
   13/   0 : =0xFF81                    cnt1 = 0xff81
   14/   0 : =0xFF82                    cnt2 = 0xff82
   15/   0 : =0xFF83                    r4   = 0xff83
   16/   0 : =0xFF84                    p4   = 0xff84
   17/   0 : =0xFF86                    p5   = 0xff86
   18/   0 :                            
   19/   0 :                            ; ------------
   20/   0 :                            ; ワークエリア
   21/   0 :                            
   22/   0 :                            ;; 除算ワーク. q0:q3 = 被除数 q4:q5 = 除数.
   23/   0 : =0xFFA0                    q0 = 0xffa0
   24/   0 : =0xFFA1                    q1 = 0xffa1
   25/   0 : =0xFFA2                    q2 = 0xffa2
   26/   0 : =0xFFA3                    q3 = 0xffa3
   27/   0 : =0xFFA4                    q4 = 0xffa4
   28/   0 : =0xFFA5                    q5 = 0xffa5
   29/   0 :                            
   30/   0 :                            ;; 除算カウンタ16回.
   31/   0 : =0xFFA6                    divcnt = 0xffa6
   32/   0 :                            
   33/   0 : =0xFFA8                    r0 = 0xffa8
   34/   0 : =0xFFAA                    r1 = 0xffaa
   35/   0 : =0xFFAC                    r2 = 0xffac
   36/   0 : =0xFFAE                    r3 = 0xffae
   37/   0 :                            
   38/   0 :                            ;; CYフラグ代用
   39/   0 : =0xFFB0                    cyr0 = 0xffb0
   40/   0 : =0xFFB1                    cyr1 = 0xffb1
   41/   0 : =0xFFB2                    cyr2 = 0xffb2
   42/   0 :                            
   43/   0 :                            ;; 収束ループカウンタ
   44/   0 : =0xFFB3                    cnt3 = 0xffb3
   45/   0 : =0xFFB4                    cnt4 = 0xffb4
   46/   0 :                            
   47/   0 :                            ;; arctan()計算引数
   48/   0 : =0xFFB6                    m1    = 0xffb6
   49/   0 : =0xFFB8                    n1    = 0xffb8
   50/   0 :                            
   51/   0 :                            ;; arctan()内部変数
   52/   0 : =0xFFB9                    sign1 = 0xffb9
   53/   0 : =0xFFBA                    tab1  = 0xffba
   54/   0 : =0xFFBB                    lf1   = 0xffbb
   55/   0 : =0xFFBC                    chr1  = 0xffbc
   56/   0 : =0xFFBD                    top1  = 0xffbd
   57/   0 :                            
   58/   0 : =0xFFC0                    indx0 = 0xffc0
   59/   0 : =0xFFC1                    indx1 = 0xffc1
   60/   0 :                            
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 2 - 2025年01月24日 12時43分11秒


   61/   0 :                            ;; n_2 = n1 * n1
   62/   0 : =0xFFC2                    n_2    = 0xffc2
   63/   0 :                            
   64/   0 :                            
   65/   0 :                            ;; 計算する桁数（２進数の配列バイト数）
   66/   0 : =0x1388                    PRECISION = 5000
   67/   0 :                            
   68/   0 :                            ;; 16bit値 デクリメントしてゼロチェック ==>Areg .
   69/   0 :                            dec_w macro work
   70/   0 :                            	ld ea,work
   71/   0 :                            	sub ea, =1
   72/   0 :                            	st ea,work
   73/   0 :                            	
   74/   0 :                            	or a,e
   75/   0 :                            
   76/   0 :                            	endm
   77/   0 :                            
   78/   0 :                            
   79/   0 :                            ;// スタート
   80/   0 :                            ;	 nop;
   81/   0 : 00                         	nop
   82/   1 :                            ;	 sp=0x8000;
   83/   1 : 25 00 80                   	ld	sp, =0x8000
   84/   4 :                            ;	 jmp(main);
   85/   4 : 24 0C 00                   	jmp	main
   86/   7 :                            ;
   87/   7 :                            ;getc()
   88/   7 :                            ;{
   89/   7 :                            getc:
   90/   7 :                            ;     db(2);
   91/   7 : 02                         	db	2
   92/   8 :                            ;}
   93/   8 : 5C                         	ret
   94/   9 :                            ;putc()
   95/   9 :                            ;{
   96/   9 :                            putc:
   97/   9 :                            ;     db(3);
   98/   9 : 03                         	db	3
   99/   A :                            ;}
  100/   A : 5C                         	ret
  101/   B :                            ;exit()
  102/   B :                            ;{
  103/   B :                            exit:
  104/   B :                            ;     db(4);
  105/   B : 04                         	db	4
  106/   C :                            ;}
  107/   C : 5C                         	ret
  108/   D :                            ;
  109/   D :                            ;// メイン
  110/   D :                            ;main()
  111/   D :                            ;{
  112/   D :                            main:
  113/   D :                            ;	p2=#msg1;puts();	
  114/   D : 26 02 02                   	ld	p2, =msg1
  115/  10 : 20 E0 01                   	jsr	puts
  116/  13 :                            ;
  117/  13 :                            ;	pi_main();
  118/  13 : 20 AA 06                   	jsr	pi_main
  119/  16 :                            ;	
  120/  16 :                            ;//	benchmark();
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 3 - 2025年01月24日 12時43分11秒


  121/  16 :                            ;
  122/  16 :                            ;	while(1) {	
  123/  16 :                            __wh000:
  124/  16 :                            ;		a='>';putc();
  125/  16 : C4 3E                      	ld	a, ='>'
  126/  18 : 20 08 00                   	jsr	putc
  127/  1B :                            ;		p2=#inbuf;gets();
  128/  1B : 26 1B 02                   	ld	p2, =inbuf
  129/  1E : 20 EA 01                   	jsr	gets
  130/  21 :                            ;
  131/  21 :                            ;		// ECHO BACK.
  132/  21 :                            ;		p2=#inbuf;puts();
  133/  21 : 26 1B 02                   	ld	p2, =inbuf
  134/  24 : 20 E0 01                   	jsr	puts
  135/  27 :                            ;
  136/  27 :                            ;		//
  137/  27 :                            ;		p2=#inbuf;cmd();
  138/  27 : 26 1B 02                   	ld	p2, =inbuf
  139/  2A : 20 61 00                   	jsr	cmd
  140/  2D :                            ;	}
  141/  2D : 24 15 00                   	jmp	__wh000
  142/  30 :                            __ew000:
  143/  30 :                            ;	exit();
  144/  30 : 20 0A 00                   	jsr	exit
  145/  33 :                            ;}
  146/  33 : 5C                         	ret
  147/  34 :                            ;
  148/  34 :                            ;benchmark()
  149/  34 :                            ;{
  150/  34 :                            benchmark:
  151/  34 :                            ;	cnt1=0;
  152/  34 : C4 00                      	ld	a, =0
  153/  36 : CD 81                      	st	a,cnt1
  154/  38 :                            ;	do {
  155/  38 :                            __do001:
  156/  38 :                            ;		cnt2=0;
  157/  38 : C4 00                      	ld	a, =0
  158/  3A : CD 82                      	st	a,cnt2
  159/  3C :                            ;		do {
  160/  3C :                            __do002:
  161/  3C :                            ;			bench_subr();
  162/  3C : 20 50 00                   	jsr	bench_subr
  163/  3F :                            ;		}while(--cnt2);
  164/  3F : 9D 82                      	dld	A,cnt2
  165/  41 : 7C F9                      	bnz	__do002
  166/  43 :                            __od002:
  167/  43 :                            ;	}while(--cnt1);
  168/  43 : 9D 81                      	dld	A,cnt1
  169/  45 : 7C F1                      	bnz	__do001
  170/  47 :                            __od001:
  171/  47 :                            ;	p2=#msg1;puts();	
  172/  47 : 26 02 02                   	ld	p2, =msg1
  173/  4A : 20 E0 01                   	jsr	puts
  174/  4D :                            ;	exit();
  175/  4D : 20 0A 00                   	jsr	exit
  176/  50 :                            ;}
  177/  50 : 5C                         	ret
  178/  51 :                            ;
  179/  51 :                            ;bench_subr()
  180/  51 :                            ;{
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 4 - 2025年01月24日 12時43分11秒


  181/  51 :                            bench_subr:
  182/  51 :                            ;	p4=0;
  183/  51 : C4 00                      	ld	a, =0
  184/  53 : CD 84                      	st	a,p4
  185/  55 :                            ;	do {
  186/  55 :                            __do003:
  187/  55 :                            ;		bench_subr2();
  188/  55 : 20 5C 00                   	jsr	bench_subr2
  189/  58 :                            ;	}while(--p4);
  190/  58 : 9D 84                      	dld	A,p4
  191/  5A : 7C F9                      	bnz	__do003
  192/  5C :                            __od003:
  193/  5C :                            ;}
  194/  5C : 5C                         	ret
  195/  5D :                            ;bench_subr2()
  196/  5D :                            ;{
  197/  5D :                            bench_subr2:
  198/  5D :                            ;	push(ea);
  199/  5D : 08                         	push	ea
  200/  5E :                            ;	push(ea);
  201/  5E : 08                         	push	ea
  202/  5F :                            ;	pop(ea);
  203/  5F : 3A                         	pop	ea
  204/  60 :                            ;	pop(ea);
  205/  60 : 3A                         	pop	ea
  206/  61 :                            ;}
  207/  61 : 5C                         	ret
  208/  62 :                            ;
  209/  62 :                            ;// P2 ポインタの１行バッファをcmd解釈.
  210/  62 :                            ;// ワーク：
  211/  62 :                            ;//    p4 = readhex()の戻り値.
  212/  62 :                            ;//    p5 = 注目メモリーアドレスを覚えておく.
  213/  62 :                            ;cmd()
  214/  62 :                            ;{
  215/  62 :                            cmd:
  216/  62 :                            ;	a=*p2++;lc();e=a;
  217/  62 : C6 01                      	ld	a, @1,p2
  218/  64 : 20 43 01                   	jsr	lc
  219/  67 : 48                         	ld	e,a
  220/  68 :                            ;	if(e=='d') {
  221/  68 : 40                         	ld	a,e
  222/  69 : FC 64                      	sub	a, ='d'
  223/  6B : 7C 19                      	bnz	__el004
  224/  6D :                            ;		sp_skip();
  225/  6D : 20 8E 00                   	jsr	sp_skip
  226/  70 :                            ;		readhex();
  227/  70 : 20 A7 00                   	jsr	readhex
  228/  73 :                            ;		if(a!=0) {
  229/  73 : 6C 04                      	bz	__el005
  230/  75 :                            ;			ea=p4;
  231/  75 : 85 84                      	ld	ea,p4
  232/  77 :                            ;			p5=ea;
  233/  77 : 8D 86                      	st	ea,p5
  234/  79 :                            ;		}
  235/  79 :                            ;		ea=p5;p2=ea;mdump(); //メモリーダンプの実行.
  236/  79 :                            __el005:
  237/  79 : 85 86                      	ld	ea,p5
  238/  7B : 46                         	ld	p2,ea
  239/  7C : 20 56 01                   	jsr	mdump
  240/  7F :                            ;
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 5 - 2025年01月24日 12時43分11秒


  241/  7F :                            ;		ea=p5;ea+=0x100;p5=ea;
  242/  7F : 85 86                      	ld	ea,p5
  243/  81 : B4 00 01                   	add	ea, =0x100
  244/  84 : 8D 86                      	st	ea,p5
  245/  86 :                            ;	}	
  246/  86 :                            ;	if(e=='q') {
  247/  86 :                            __el004:
  248/  86 : 40                         	ld	a,e
  249/  87 : FC 71                      	sub	a, ='q'
  250/  89 : 7C 03                      	bnz	__el006
  251/  8B :                            ;		exit();
  252/  8B : 20 0A 00                   	jsr	exit
  253/  8E :                            ;	}	
  254/  8E :                            ;}
  255/  8E :                            __el006:
  256/  8E : 5C                         	ret
  257/  8F :                            ;
  258/  8F :                            ;// ==========================================
  259/  8F :                            ;// 入力関数
  260/  8F :                            ;
  261/  8F :                            ;// P2 ポインタの空白文字飛ばし.
  262/  8F :                            ;sp_skip()
  263/  8F :                            ;{
  264/  8F :                            sp_skip:
  265/  8F :                            ;	a=*p2;
  266/  8F : C2 00                      	ld	a, 0,p2
  267/  91 :                            ;	while(a==' ') {
  268/  91 :                            __wh007:
  269/  91 : FC 20                      	sub	a, =' '
  270/  93 : 7C 07                      	bnz	__ew007
  271/  95 :                            ;		a=*p2++;  // p2++ だけしたい.
  272/  95 : C6 01                      	ld	a, @1,p2
  273/  97 :                            ;		a=*p2;
  274/  97 : C2 00                      	ld	a, 0,p2
  275/  99 :                            ;	}
  276/  99 : 24 90 00                   	jmp	__wh007
  277/  9C :                            __ew007:
  278/  9C :                            ;}
  279/  9C : 5C                         	ret
  280/  9D :                            ;
  281/  9D :                            ;p4mul16()
  282/  9D :                            ;{
  283/  9D :                            p4mul16:
  284/  9D :                            ;	push(ea);
  285/  9D : 08                         	push	ea
  286/  9E :                            ;	ea=p4;
  287/  9E : 85 84                      	ld	ea,p4
  288/  A0 :                            ;	sl(ea);
  289/  A0 : 0F                         	sl	ea
  290/  A1 :                            ;	sl(ea);
  291/  A1 : 0F                         	sl	ea
  292/  A2 :                            ;	sl(ea);
  293/  A2 : 0F                         	sl	ea
  294/  A3 :                            ;	sl(ea);
  295/  A3 : 0F                         	sl	ea
  296/  A4 :                            ;	p4=ea;
  297/  A4 : 8D 84                      	st	ea,p4
  298/  A6 :                            ;	pop(ea);
  299/  A6 : 3A                         	pop	ea
  300/  A7 :                            ;}
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 6 - 2025年01月24日 12時43分11秒


  301/  A7 : 5C                         	ret
  302/  A8 :                            ;
  303/  A8 :                            ;// P2 ポインタから16進HEX読み. ==> p4に結果. 入力された桁数=Areg
  304/  A8 :                            ;readhex()
  305/  A8 :                            ;{
  306/  A8 :                            readhex:
  307/  A8 :                            ;	ea=0;
  308/  A8 : 84 00 00                   	ld	ea, =0
  309/  AB :                            ;	p4=ea;
  310/  AB : 8D 84                      	st	ea,p4
  311/  AD :                            ;	r4=a;
  312/  AD : CD 83                      	st	a,r4
  313/  AF :                            ;	while(1) {
  314/  AF :                            __wh008:
  315/  AF :                            ;		a=*p2++;e=a;
  316/  AF : C6 01                      	ld	a, @1,p2
  317/  B1 : 48                         	ld	e,a
  318/  B2 :                            ;		readhex1();e=a;
  319/  B2 : 20 D6 00                   	jsr	readhex1
  320/  B5 : 48                         	ld	e,a
  321/  B6 :                            ;		if(e!=0xff) {
  322/  B6 : 40                         	ld	a,e
  323/  B7 : FC FF                      	sub	a, =0xff
  324/  B9 : 6C 15                      	bz	__el009
  325/  BB :                            ;			p4mul16();
  326/  BB : 20 9C 00                   	jsr	p4mul16
  327/  BE :                            ;			a=e;e=0;
  328/  BE : 40                         	ld	a,e
  329/  BF : 01                         	xch	e,a
  330/  C0 : C4 00                      	ld	a, =0
  331/  C2 : 01                         	xch	e,a
  332/  C3 :                            ;			ea+=p4;
  333/  C3 : B5 84                      	add	ea,p4
  334/  C5 :                            ;			p4=ea;
  335/  C5 : 8D 84                      	st	ea,p4
  336/  C7 :                            ;			a=r4;a+=1;r4=a;
  337/  C7 : C5 83                      	ld	a,r4
  338/  C9 : F4 01                      	add	a, =1
  339/  CB : CD 83                      	st	a,r4
  340/  CD :                            ;		}else{
  341/  CD : 24 D2 00                   	jmp	__fi009
  342/  D0 :                            __el009:
  343/  D0 :                            ;			a=r4;
  344/  D0 : C5 83                      	ld	a,r4
  345/  D2 :                            ;			return;
  346/  D2 : 5C                         	ret
  347/  D3 :                            ;		}
  348/  D3 :                            __fi009:
  349/  D3 :                            ;	}
  350/  D3 : 24 AE 00                   	jmp	__wh008
  351/  D6 :                            __ew008:
  352/  D6 :                            ;}
  353/  D6 : 5C                         	ret
  354/  D7 :                            ;
  355/  D7 :                            ;readhex1()
  356/  D7 :                            ;{
  357/  D7 :                            readhex1:
  358/  D7 :                            ;	lc();e=a;
  359/  D7 : 20 43 01                   	jsr	lc
  360/  DA : 48                         	ld	e,a
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 7 - 2025年01月24日 12時43分11秒


  361/  DB :                            ;	if(e>='0') {
  362/  DB : 40                         	ld	a,e
  363/  DC : FC 30                      	sub	a, ='0'
  364/  DE : 64 02                      	bp	$+4
  365/  E0 : 74 09                      	bra	__el010
  366/  E2 :                            ;		if(e<0x3a) { // <='9'
  367/  E2 : 40                         	ld	a,e
  368/  E3 : FC 3A                      	sub	a, =0x3a
  369/  E5 : 64 04                      	bp	__el011
  370/  E7 :                            ;			a=e;
  371/  E7 : 40                         	ld	a,e
  372/  E8 :                            ;			a-=0x30;
  373/  E8 : FC 30                      	sub	a, =0x30
  374/  EA :                            ;			return;
  375/  EA : 5C                         	ret
  376/  EB :                            ;		}
  377/  EB :                            ;	}
  378/  EB :                            __el011:
  379/  EB :                            ;	if(e>='a') {
  380/  EB :                            __el010:
  381/  EB : 40                         	ld	a,e
  382/  EC : FC 61                      	sub	a, ='a'
  383/  EE : 64 02                      	bp	$+4
  384/  F0 : 74 09                      	bra	__el012
  385/  F2 :                            ;		if(e<'g') {
  386/  F2 : 40                         	ld	a,e
  387/  F3 : FC 67                      	sub	a, ='g'
  388/  F5 : 64 04                      	bp	__el013
  389/  F7 :                            ;			a=e;
  390/  F7 : 40                         	ld	a,e
  391/  F8 :                            ;			a-=0x57;  // 0x61 - 10
  392/  F8 : FC 57                      	sub	a, =0x57
  393/  FA :                            ;			return;
  394/  FA : 5C                         	ret
  395/  FB :                            ;		}
  396/  FB :                            ;	}
  397/  FB :                            __el013:
  398/  FB :                            ;	a=0xff;
  399/  FB :                            __el012:
  400/  FB : C4 FF                      	ld	a, =0xff
  401/  FD :                            ;}
  402/  FD : 5C                         	ret
  403/  FE :                            ;
  404/  FE :                            ;
  405/  FE :                            ;// ==========================================
  406/  FE :                            ;// 出力関数
  407/  FE :                            ;
  408/  FE :                            ;//  アスキーダンプ１行
  409/  FE :                            ;ascdump_16()
  410/  FE :                            ;{
  411/  FE :                            ascdump_16:
  412/  FE :                            ;	push(p2);
  413/  FE : 56                         	push	p2
  414/  FF :                            ;	p2=ea;
  415/  FF : 46                         	ld	p2,ea
  416/ 100 :                            ;	ascdump_8();
  417/ 100 : 20 0A 01                   	jsr	ascdump_8
  418/ 103 :                            ;	pr_spc();
  419/ 103 : 20 CF 01                   	jsr	pr_spc
  420/ 106 :                            ;	ascdump_8();
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 8 - 2025年01月24日 12時43分11秒


  421/ 106 : 20 0A 01                   	jsr	ascdump_8
  422/ 109 :                            ;	pop(p2);
  423/ 109 : 5E                         	pop	p2
  424/ 10A :                            ;}
  425/ 10A : 5C                         	ret
  426/ 10B :                            ;
  427/ 10B :                            ;//  アスキーダンプ8byte
  428/ 10B :                            ;ascdump_8()
  429/ 10B :                            ;{
  430/ 10B :                            ascdump_8:
  431/ 10B :                            ;	a=8;cnt2=a;
  432/ 10B : C4 08                      	ld	a, =8
  433/ 10D : CD 82                      	st	a,cnt2
  434/ 10F :                            ;	do {
  435/ 10F :                            __do014:
  436/ 10F :                            ;		a=*p2++;
  437/ 10F : C6 01                      	ld	a, @1,p2
  438/ 111 :                            ;		ascdump1();
  439/ 111 : 20 18 01                   	jsr	ascdump1
  440/ 114 :                            ;	} while(--cnt2);
  441/ 114 : 9D 82                      	dld	A,cnt2
  442/ 116 : 7C F7                      	bnz	__do014
  443/ 118 :                            __od014:
  444/ 118 :                            ;}
  445/ 118 : 5C                         	ret
  446/ 119 :                            ;
  447/ 119 :                            ;//  アスキーダンプ1byte
  448/ 119 :                            ;ascdump1()
  449/ 119 :                            ;{
  450/ 119 :                            ascdump1:
  451/ 119 :                            ;	e=a;
  452/ 119 : 48                         	ld	e,a
  453/ 11A :                            ;	if(e<0x20) {
  454/ 11A : 40                         	ld	a,e
  455/ 11B : FC 20                      	sub	a, =0x20
  456/ 11D : 64 03                      	bp	__el015
  457/ 11F :                            ;		a=' ';e=a;
  458/ 11F : C4 20                      	ld	a, =' '
  459/ 121 : 48                         	ld	e,a
  460/ 122 :                            ;	}
  461/ 122 :                            ;	if(e>=0x7f) {
  462/ 122 :                            __el015:
  463/ 122 : 40                         	ld	a,e
  464/ 123 : FC 7F                      	sub	a, =0x7f
  465/ 125 : 64 02                      	bp	$+4
  466/ 127 : 74 03                      	bra	__el016
  467/ 129 :                            ;		a=' ';e=a;
  468/ 129 : C4 20                      	ld	a, =' '
  469/ 12B : 48                         	ld	e,a
  470/ 12C :                            ;	}
  471/ 12C :                            ;	a=e;putc();
  472/ 12C :                            __el016:
  473/ 12C : 40                         	ld	a,e
  474/ 12D : 20 08 00                   	jsr	putc
  475/ 130 :                            ;}
  476/ 130 : 5C                         	ret
  477/ 131 :                            ;
  478/ 131 :                            ;//  大文字にする.
  479/ 131 :                            ;uc()
  480/ 131 :                            ;{
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 9 - 2025年01月24日 12時43分11秒


  481/ 131 :                            uc:
  482/ 131 :                            ;	e=a;
  483/ 131 : 48                         	ld	e,a
  484/ 132 :                            ;	if(e>='a') {
  485/ 132 : 40                         	ld	a,e
  486/ 133 : FC 61                      	sub	a, ='a'
  487/ 135 : 64 02                      	bp	$+4
  488/ 137 : 74 09                      	bra	__el017
  489/ 139 :                            ;		if(e<0x7b) {  // <='z'
  490/ 139 : 40                         	ld	a,e
  491/ 13A : FC 7B                      	sub	a, =0x7b
  492/ 13C : 64 04                      	bp	__el018
  493/ 13E :                            ;			a=e;
  494/ 13E : 40                         	ld	a,e
  495/ 13F :                            ;			a-=0x20;
  496/ 13F : FC 20                      	sub	a, =0x20
  497/ 141 :                            ;			return;
  498/ 141 : 5C                         	ret
  499/ 142 :                            ;		}
  500/ 142 :                            ;	}
  501/ 142 :                            __el018:
  502/ 142 :                            ;	a=e;
  503/ 142 :                            __el017:
  504/ 142 : 40                         	ld	a,e
  505/ 143 :                            ;}
  506/ 143 : 5C                         	ret
  507/ 144 :                            ;
  508/ 144 :                            ;//  小文字にする.
  509/ 144 :                            ;lc()
  510/ 144 :                            ;{
  511/ 144 :                            lc:
  512/ 144 :                            ;	e=a;
  513/ 144 : 48                         	ld	e,a
  514/ 145 :                            ;	if(e>='A') {
  515/ 145 : 40                         	ld	a,e
  516/ 146 : FC 41                      	sub	a, ='A'
  517/ 148 : 64 02                      	bp	$+4
  518/ 14A : 74 09                      	bra	__el019
  519/ 14C :                            ;		if(e<0x5b) {  // <='Z'
  520/ 14C : 40                         	ld	a,e
  521/ 14D : FC 5B                      	sub	a, =0x5b
  522/ 14F : 64 04                      	bp	__el020
  523/ 151 :                            ;			a=e;
  524/ 151 : 40                         	ld	a,e
  525/ 152 :                            ;			a+=0x20;
  526/ 152 : F4 20                      	add	a, =0x20
  527/ 154 :                            ;			return;
  528/ 154 : 5C                         	ret
  529/ 155 :                            ;		}
  530/ 155 :                            ;	}
  531/ 155 :                            __el020:
  532/ 155 :                            ;	a=e;
  533/ 155 :                            __el019:
  534/ 155 : 40                         	ld	a,e
  535/ 156 :                            ;}
  536/ 156 : 5C                         	ret
  537/ 157 :                            ;
  538/ 157 :                            ;
  539/ 157 :                            ;//  メモリーダンプ
  540/ 157 :                            ;mdump()
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 10 - 2025年01月24日 12時43分11秒


  541/ 157 :                            ;{
  542/ 157 :                            mdump:
  543/ 157 :                            ;	a=16;cnt1=a;
  544/ 157 : C4 10                      	ld	a, =16
  545/ 159 : CD 81                      	st	a,cnt1
  546/ 15B :                            ;	do {
  547/ 15B :                            __do021:
  548/ 15B :                            ;		mdump_16();
  549/ 15B : 20 62 01                   	jsr	mdump_16
  550/ 15E :                            ;	} while(--cnt1);
  551/ 15E : 9D 81                      	dld	A,cnt1
  552/ 160 : 7C F9                      	bnz	__do021
  553/ 162 :                            __od021:
  554/ 162 :                            ;}
  555/ 162 : 5C                         	ret
  556/ 163 :                            ;
  557/ 163 :                            ;//  メモリーダンプ16byte
  558/ 163 :                            ;mdump_16()
  559/ 163 :                            ;{
  560/ 163 :                            mdump_16:
  561/ 163 :                            ;	ea=p2;
  562/ 163 : 32                         	ld	ea,p2
  563/ 164 :                            ;	prhex4();
  564/ 164 : 20 9F 01                   	jsr	prhex4
  565/ 167 :                            ;	pr_spc();
  566/ 167 : 20 CF 01                   	jsr	pr_spc
  567/ 16A :                            ;
  568/ 16A :                            ;	mdump_8();
  569/ 16A : 20 7D 01                   	jsr	mdump_8
  570/ 16D :                            ;	pr_spc();
  571/ 16D : 20 CF 01                   	jsr	pr_spc
  572/ 170 :                            ;	mdump_8();
  573/ 170 : 20 7D 01                   	jsr	mdump_8
  574/ 173 :                            ;
  575/ 173 :                            ;// ASCII DUMP
  576/ 173 :                            ;	ea=p2;ea-=16;
  577/ 173 : 32                         	ld	ea,p2
  578/ 174 : BC 10 00                   	sub	ea, =16
  579/ 177 :                            ;	ascdump_16();
  580/ 177 : 20 FD 00                   	jsr	ascdump_16
  581/ 17A :                            ;
  582/ 17A :                            ;	put_crlf();
  583/ 17A : 20 D5 01                   	jsr	put_crlf
  584/ 17D :                            ;}
  585/ 17D : 5C                         	ret
  586/ 17E :                            ;
  587/ 17E :                            ;//  メモリーダンプ8byte
  588/ 17E :                            ;mdump_8()
  589/ 17E :                            ;{
  590/ 17E :                            mdump_8:
  591/ 17E :                            ;	a=8;cnt2=a;
  592/ 17E : C4 08                      	ld	a, =8
  593/ 180 : CD 82                      	st	a,cnt2
  594/ 182 :                            ;	do {
  595/ 182 :                            __do022:
  596/ 182 :                            ;		a=*p2++;
  597/ 182 : C6 01                      	ld	a, @1,p2
  598/ 184 :                            ;		prhex2();
  599/ 184 : 20 A8 01                   	jsr	prhex2
  600/ 187 :                            ;		pr_spc();
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 11 - 2025年01月24日 12時43分11秒


  601/ 187 : 20 CF 01                   	jsr	pr_spc
  602/ 18A :                            ;	} while(--cnt2);
  603/ 18A : 9D 82                      	dld	A,cnt2
  604/ 18C : 7C F4                      	bnz	__do022
  605/ 18E :                            __od022:
  606/ 18E :                            ;}
  607/ 18E : 5C                         	ret
  608/ 18F :                            ;
  609/ 18F :                            ;//  メモリーダンプ8byte
  610/ 18F :                            ;mdump_b16()
  611/ 18F :                            ;{
  612/ 18F :                            mdump_b16:
  613/ 18F :                            ;	a=16;cnt2=a;
  614/ 18F : C4 10                      	ld	a, =16
  615/ 191 : CD 82                      	st	a,cnt2
  616/ 193 :                            ;	do {
  617/ 193 :                            __do023:
  618/ 193 :                            ;		a=*p2++;
  619/ 193 : C6 01                      	ld	a, @1,p2
  620/ 195 :                            ;		prhex2();
  621/ 195 : 20 A8 01                   	jsr	prhex2
  622/ 198 :                            ;		pr_spc();
  623/ 198 : 20 CF 01                   	jsr	pr_spc
  624/ 19B :                            ;	} while(--cnt2);
  625/ 19B : 9D 82                      	dld	A,cnt2
  626/ 19D : 7C F4                      	bnz	__do023
  627/ 19F :                            __od023:
  628/ 19F :                            ;}
  629/ 19F : 5C                         	ret
  630/ 1A0 :                            ;
  631/ 1A0 :                            ;//  EAレジスタを16進4桁表示
  632/ 1A0 :                            ;prhex4()
  633/ 1A0 :                            ;{
  634/ 1A0 :                            prhex4:
  635/ 1A0 :                            ;	a<>e;
  636/ 1A0 : 01                         	xch	a,e
  637/ 1A1 :                            ;	prhex2();
  638/ 1A1 : 20 A8 01                   	jsr	prhex2
  639/ 1A4 :                            ;	a<>e;
  640/ 1A4 : 01                         	xch	a,e
  641/ 1A5 :                            ;	prhex2();
  642/ 1A5 : 20 A8 01                   	jsr	prhex2
  643/ 1A8 :                            ;}
  644/ 1A8 : 5C                         	ret
  645/ 1A9 :                            ;
  646/ 1A9 :                            ;//  Aレジスタを16進2桁表示
  647/ 1A9 :                            ;prhex2()
  648/ 1A9 :                            ;{
  649/ 1A9 :                            prhex2:
  650/ 1A9 :                            ;	push(ea);
  651/ 1A9 : 08                         	push	ea
  652/ 1AA :                            ;	e=a;
  653/ 1AA : 48                         	ld	e,a
  654/ 1AB :                            ;	a>>=1;
  655/ 1AB : 3C                         	sr	a
  656/ 1AC :                            ;	a>>=1;
  657/ 1AC : 3C                         	sr	a
  658/ 1AD :                            ;	a>>=1;
  659/ 1AD : 3C                         	sr	a
  660/ 1AE :                            ;	a>>=1;
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 12 - 2025年01月24日 12時43分11秒


  661/ 1AE : 3C                         	sr	a
  662/ 1AF :                            ;	prhex1();
  663/ 1AF : 20 B7 01                   	jsr	prhex1
  664/ 1B2 :                            ;
  665/ 1B2 :                            ;	a=e;
  666/ 1B2 : 40                         	ld	a,e
  667/ 1B3 :                            ;	prhex1();
  668/ 1B3 : 20 B7 01                   	jsr	prhex1
  669/ 1B6 :                            ;	pop(ea);
  670/ 1B6 : 3A                         	pop	ea
  671/ 1B7 :                            ;}
  672/ 1B7 : 5C                         	ret
  673/ 1B8 :                            ;
  674/ 1B8 :                            ;//  Aレジスタ下位4bitのみを16進1桁表示
  675/ 1B8 :                            ;prhex1()
  676/ 1B8 :                            ;{
  677/ 1B8 :                            prhex1:
  678/ 1B8 :                            ;	push(ea);
  679/ 1B8 : 08                         	push	ea
  680/ 1B9 :                            ;	a&=0x0f;
  681/ 1B9 : D4 0F                      	and	a, =0x0f
  682/ 1BB :                            ;	e=a;
  683/ 1BB : 48                         	ld	e,a
  684/ 1BC :                            ;	if( a >= 10) {
  685/ 1BC : FC 0A                      	sub	a, =10
  686/ 1BE : 64 02                      	bp	$+4
  687/ 1C0 : 74 06                      	bra	__el024
  688/ 1C2 :                            ;		a=e;a+=7;
  689/ 1C2 : 40                         	ld	a,e
  690/ 1C3 : F4 07                      	add	a, =7
  691/ 1C5 :                            ;	}else{
  692/ 1C5 : 24 C8 01                   	jmp	__fi024
  693/ 1C8 :                            __el024:
  694/ 1C8 :                            ;		a=e;
  695/ 1C8 : 40                         	ld	a,e
  696/ 1C9 :                            ;	}
  697/ 1C9 :                            __fi024:
  698/ 1C9 :                            ;	a += 0x30;
  699/ 1C9 : F4 30                      	add	a, =0x30
  700/ 1CB :                            ;	putc();
  701/ 1CB : 20 08 00                   	jsr	putc
  702/ 1CE :                            ;	pop(ea);
  703/ 1CE : 3A                         	pop	ea
  704/ 1CF :                            ;}
  705/ 1CF : 5C                         	ret
  706/ 1D0 :                            ;//  空白文字を1つ出力
  707/ 1D0 :                            ;pr_spc()
  708/ 1D0 :                            ;{
  709/ 1D0 :                            pr_spc:
  710/ 1D0 :                            ;	a=' ';putc();
  711/ 1D0 : C4 20                      	ld	a, =' '
  712/ 1D2 : 20 08 00                   	jsr	putc
  713/ 1D5 :                            ;}
  714/ 1D5 : 5C                         	ret
  715/ 1D6 :                            ;
  716/ 1D6 :                            ;//  改行コード出力
  717/ 1D6 :                            ;put_crlf()
  718/ 1D6 :                            ;{
  719/ 1D6 :                            put_crlf:
  720/ 1D6 :                            ;	a=0x0d;putc();
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 13 - 2025年01月24日 12時43分11秒


  721/ 1D6 : C4 0D                      	ld	a, =0x0d
  722/ 1D8 : 20 08 00                   	jsr	putc
  723/ 1DB :                            ;	a=0x0a;putc();
  724/ 1DB : C4 0A                      	ld	a, =0x0a
  725/ 1DD : 20 08 00                   	jsr	putc
  726/ 1E0 :                            ;}
  727/ 1E0 : 5C                         	ret
  728/ 1E1 :                            ;
  729/ 1E1 :                            ;//  文字列出力( P2 )ヌル終端.
  730/ 1E1 :                            ;puts()
  731/ 1E1 :                            ;{
  732/ 1E1 :                            puts:
  733/ 1E1 :                            ;	do {
  734/ 1E1 :                            __do025:
  735/ 1E1 :                            ;		a=*p2++;
  736/ 1E1 : C6 01                      	ld	a, @1,p2
  737/ 1E3 :                            ;		if(a==0) break;
  738/ 1E3 : 6C 05                      	bz	__od025
  739/ 1E5 :                            ;		putc();
  740/ 1E5 : 20 08 00                   	jsr	putc
  741/ 1E8 :                            ;	}while(1);	
  742/ 1E8 : 74 F7                      	bra	__do025
  743/ 1EA :                            __od025:
  744/ 1EA :                            ;}
  745/ 1EA : 5C                         	ret
  746/ 1EB :                            ;
  747/ 1EB :                            ;//  文字列入力( P2 ) 0x0a + ヌル終端.
  748/ 1EB :                            ;gets()
  749/ 1EB :                            ;{
  750/ 1EB :                            gets:
  751/ 1EB :                            ;	do {
  752/ 1EB :                            __do026:
  753/ 1EB :                            ;		getc();
  754/ 1EB : 20 06 00                   	jsr	getc
  755/ 1EE :                            ;		*p2++=a;
  756/ 1EE : CE 01                      	st	a, @1,p2
  757/ 1F0 :                            ;		e=a;
  758/ 1F0 : 48                         	ld	e,a
  759/ 1F1 :                            ;		if(e==0x0a) break;
  760/ 1F1 : 40                         	ld	a,e
  761/ 1F2 : FC 0A                      	sub	a, =0x0a
  762/ 1F4 : 6C 07                      	bz	__od026
  763/ 1F6 :                            ;		if(e==0x0d) break;
  764/ 1F6 : 40                         	ld	a,e
  765/ 1F7 : FC 0D                      	sub	a, =0x0d
  766/ 1F9 : 6C 02                      	bz	__od026
  767/ 1FB :                            ;	}while(1);	
  768/ 1FB : 74 EE                      	bra	__do026
  769/ 1FD :                            __od026:
  770/ 1FD :                            ;
  771/ 1FD :                            ;	a=0; *p2++=a;
  772/ 1FD : C4 00                      	ld	a, =0
  773/ 1FF : CE 01                      	st	a, @1,p2
  774/ 201 :                            ;}
  775/ 201 : 5C                         	ret
  776/ 202 :                            ;
  777/ 202 :                            ;//  文字列サンプル
  778/ 202 :                            ;msg1:
  779/ 202 :                            msg1:
  780/ 202 :                            ;	db(" * SC/MP-III Monitor *");
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 14 - 2025年01月24日 12時43分11秒


  781/ 202 : 20 2A 20 53 43 2F 4D 50 2D 	db	" * SC/MP-III Monitor *"
       20B : 49 49 49 20 4D 6F 6E 69 74
       214 : 6F 72 20 2A               
  782/ 218 :                            ;	db(0x0d);
  783/ 218 : 0D                         	db	0x0d
  784/ 219 :                            ;	db(0x0a);
  785/ 219 : 0A                         	db	0x0a
  786/ 21A :                            ;	db(0);
  787/ 21A : 00                         	db	0
  788/ 21B :                            ;
  789/ 21B :                            ;inbuf:
  790/ 21B :                            inbuf:
  791/ 21B :                            ;	ds(128);
  792/ 21B :                            	ds	128
  793/ 29B :                            ;
  794/ 29B :                            ;bufend:
  795/ 29B :                            bufend:
  796/ 29B :                            ;	db(0);
  797/ 29B : 00                         	db	0
  798/ 29C :                            ;
  799/ 29C :                            ;// =============  ここから、円周率計算 ===============
  800/ 29C :                            ;//
  801/ 29C :                            ;//
  802/ 29C :                            ;PI_MSG_1:
  803/ 29C :                            PI_MSG_1:
  804/ 29C :                            ;	db(0x0d);
  805/ 29C : 0D                         	db	0x0d
  806/ 29D :                            ;	db(0x0a);
  807/ 29D : 0A                         	db	0x0a
  808/ 29E :                            ;	db("> Calculating PI ... ");
  809/ 29E : 3E 20 43 61 6C 63 75 6C 61 	db	"> Calculating PI ... "
       2A7 : 74 69 6E 67 20 50 49 20 2E
       2B0 : 2E 2E 20                  
  810/ 2B3 :                            ;	db(0x0d);
  811/ 2B3 : 0D                         	db	0x0d
  812/ 2B4 :                            ;	db(0x0a);
  813/ 2B4 : 0A                         	db	0x0a
  814/ 2B5 :                            ;	db(0);
  815/ 2B5 : 00                         	db	0
  816/ 2B6 :                            ;
  817/ 2B6 :                            ;PI_EQU_1:
  818/ 2B6 :                            PI_EQU_1:
  819/ 2B6 :                            ;	db("PI = ");
  820/ 2B6 : 50 49 20 3D 20             	db	"PI = "
  821/ 2BB :                            ;	db(0);
  822/ 2BB : 00                         	db	0
  823/ 2BC :                            ;
  824/ 2BC :                            ;PI_EQU_2:
  825/ 2BC :                            PI_EQU_2:
  826/ 2BC :                            ;	db(" + ");
  827/ 2BC : 20 2B 20                   	db	" + "
  828/ 2BF :                            ;	db(0x0d);
  829/ 2BF : 0D                         	db	0x0d
  830/ 2C0 :                            ;	db(0x0a);
  831/ 2C0 : 0A                         	db	0x0a
  832/ 2C1 :                            ;	db(0);
  833/ 2C1 : 00                         	db	0
  834/ 2C2 :                            ;
  835/ 2C2 :                            ;// 割り算=========
  836/ 2C2 :                            ;// q0/q4
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 15 - 2025年01月24日 12時43分11秒


  837/ 2C2 :                            ;
  838/ 2C2 :                            ;div32_16()
  839/ 2C2 :                            ;{
  840/ 2C2 :                            div32_16:
  841/ 2C2 :                            ;	cyr0=0;
  842/ 2C2 : C4 00                      	ld	a, =0
  843/ 2C4 : CD B0                      	st	a,cyr0
  844/ 2C6 :                            ;	cyr1=0;
  845/ 2C6 : C4 00                      	ld	a, =0
  846/ 2C8 : CD B1                      	st	a,cyr1
  847/ 2CA :                            ;	cyr2=0;
  848/ 2CA : C4 00                      	ld	a, =0
  849/ 2CC : CD B2                      	st	a,cyr2
  850/ 2CE :                            ;
  851/ 2CE :                            ;	divcnt=16;
  852/ 2CE : C4 10                      	ld	a, =16
  853/ 2D0 : CD A6                      	st	a,divcnt
  854/ 2D2 :                            ;	do {
  855/ 2D2 :                            __do027:
  856/ 2D2 :                            ;
  857/ 2D2 :                            ;// === q0:q3 の32bit を左シフト(2倍)
  858/ 2D2 :                            ;		// q0 <<=1
  859/ 2D2 :                            ;		ea=q0;ea+=q0;
  860/ 2D2 : 85 A0                      	ld	ea,q0
  861/ 2D4 : B5 A0                      	add	ea,q0
  862/ 2D6 :                            ;		q0=ea;
  863/ 2D6 : 8D A0                      	st	ea,q0
  864/ 2D8 :                            ;
  865/ 2D8 :                            ;		// sr = CY(bit7) CYをcyr1:cyr2に整数値(0 or 1)で保管.
  866/ 2D8 :                            ;		e=0;
  867/ 2D8 : 01                         	xch	e,a
  868/ 2D9 : C4 00                      	ld	a, =0
  869/ 2DB : 01                         	xch	e,a
  870/ 2DC :                            ;		a=s;sl(ea);cyr0=ea;
  871/ 2DC : 06                         	ld	a,s
  872/ 2DD : 0F                         	sl	ea
  873/ 2DE : 8D B0                      	st	ea,cyr0
  874/ 2E0 :                            ;
  875/ 2E0 :                            ;		// q2 <<=1 : q2+= .CY
  876/ 2E0 :                            ;		ea=q2;ea+=q2;ea+=cyr1;
  877/ 2E0 : 85 A2                      	ld	ea,q2
  878/ 2E2 : B5 A2                      	add	ea,q2
  879/ 2E4 : B5 B1                      	add	ea,cyr1
  880/ 2E6 :                            ;		q2=ea;
  881/ 2E6 : 8D A2                      	st	ea,q2
  882/ 2E8 :                            ;// === q2:q3 の16bit から q4:q5の16bit が減算できるなら減算する.
  883/ 2E8 :                            ;		ea-=q4;push(ea);
  884/ 2E8 : BD A4                      	sub	ea,q4
  885/ 2EA : 08                         	push	ea
  886/ 2EB :                            ;
  887/ 2EB :                            ;//		a=e;if(a>=0) {     // 減算結果の正負で引けたか見る. <== XXX
  888/ 2EB :                            ;
  889/ 2EB :                            ;		a=s;if(a & 0x80) { // CYフラグで見る.
  890/ 2EB : 06                         	ld	a,s
  891/ 2EC : D4 80                      	and	a, =0x80
  892/ 2EE : 6C 08                      	bz	__el028
  893/ 2F0 :                            ;			pop(ea);
  894/ 2F0 : 3A                         	pop	ea
  895/ 2F1 :                            ;			q2=ea; //減算結果をq2に書き戻す.
  896/ 2F1 : 8D A2                      	st	ea,q2
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 16 - 2025年01月24日 12時43分11秒


  897/ 2F3 :                            ;			// q0++
  898/ 2F3 :                            ;			ild(a,q0);    //ea=q0;ea+=1;q0=ea;
  899/ 2F3 : 95 A0                      	ild	a,q0
  900/ 2F5 :                            ;		}else{
  901/ 2F5 : 24 F8 02                   	jmp	__fi028
  902/ 2F8 :                            __el028:
  903/ 2F8 :                            ;			pop(ea);//減算結果を破棄する.
  904/ 2F8 : 3A                         	pop	ea
  905/ 2F9 :                            ;		}
  906/ 2F9 :                            __fi028:
  907/ 2F9 :                            ;	}while(--divcnt);
  908/ 2F9 : 9D A6                      	dld	A,divcnt
  909/ 2FB : 7C D5                      	bnz	__do027
  910/ 2FD :                            __od027:
  911/ 2FD :                            ;}
  912/ 2FD : 5C                         	ret
  913/ 2FE :                            ;
  914/ 2FE :                            ;div16_8()
  915/ 2FE :                            ;{
  916/ 2FE :                            div16_8:
  917/ 2FE :                            ;//除算命令DIVはEAの内容をTの内容で割ります。EAには0から65536の値が、
  918/ 2FE :                            ;//Tには1から32767までの範囲でEAより小さな値が入っていなくてはなりません。
  919/ 2FE :                            ;//数値は符号なし、もしくは符号付きなら両方とも正の範囲でなくてはなりません。
  920/ 2FE :                            ;//演算結果として商がEAに、剰余がTに入ります。ともに正の数です。
  921/ 2FE :                            ;
  922/ 2FE :                            ;// === q0:q1 の16bit /  q4 (8bit) ==> q0 剰余は q1
  923/ 2FE :                            ;	a=q4;e=0;t=ea; //除数をセット.
  924/ 2FE : C5 A4                      	ld	a,q4
  925/ 300 : 01                         	xch	e,a
  926/ 301 : C4 00                      	ld	a, =0
  927/ 303 : 01                         	xch	e,a
  928/ 304 : 09                         	ld	t,ea
  929/ 305 :                            ;
  930/ 305 :                            ;	ea=q0;         //被除数をセット.
  931/ 305 : 85 A0                      	ld	ea,q0
  932/ 307 :                            ;	div(ea,t);
  933/ 307 : 0D                         	div	ea,t
  934/ 308 :                            ;	q0=a;	//商.
  935/ 308 : CD A0                      	st	a,q0
  936/ 30A :                            ;
  937/ 30A :                            ;	ea=t;
  938/ 30A : 0B                         	ld	ea,t
  939/ 30B :                            ;	q1=a;	//剰余.
  940/ 30B : CD A1                      	st	a,q1
  941/ 30D :                            ;}
  942/ 30D : 5C                         	ret
  943/ 30E :                            ;
  944/ 30E :                            ;
  945/ 30E :                            ;// 割り算テスト
  946/ 30E :                            ;div_test16()
  947/ 30E :                            ;{
  948/ 30E :                            div_test16:
  949/ 30E :                            ;	ea=0    ;q2=ea;
  950/ 30E : 84 00 00                   	ld	ea, =0
  951/ 311 : 8D A2                      	st	ea,q2
  952/ 313 :                            ;
  953/ 313 :                            ;	// q0 = 12345
  954/ 313 :                            ;	ea=41000  ;q0=ea;
  955/ 313 : 84 28 A0                   	ld	ea, =41000
  956/ 316 : 8D A0                      	st	ea,q0
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 17 - 2025年01月24日 12時43分11秒


  957/ 318 :                            ;
  958/ 318 :                            ;	// q4 = 10
  959/ 318 :                            ;	ea=40000  ;q4=ea;
  960/ 318 : 84 40 9C                   	ld	ea, =40000
  961/ 31B : 8D A4                      	st	ea,q4
  962/ 31D :                            ;
  963/ 31D :                            ;	// q0/q4
  964/ 31D :                            ;	div32_16();
  965/ 31D : 20 C1 02                   	jsr	div32_16
  966/ 320 :                            ;
  967/ 320 :                            ;	p2=#q0;a='*';p2_dump(); //メモリーダンプの実行.
  968/ 320 : 26 A0 FF                   	ld	p2, =q0
  969/ 323 : C4 2A                      	ld	a, ='*'
  970/ 325 : 20 45 06                   	jsr	p2_dump
  971/ 328 :                            ;}
  972/ 328 : 5C                         	ret
  973/ 329 :                            ;
  974/ 329 :                            ;// 割り算テスト
  975/ 329 :                            ;div_test8()
  976/ 329 :                            ;{
  977/ 329 :                            div_test8:
  978/ 329 :                            ;	ea=0    ;q2=ea;
  979/ 329 : 84 00 00                   	ld	ea, =0
  980/ 32C : 8D A2                      	st	ea,q2
  981/ 32E :                            ;
  982/ 32E :                            ;	// q0 = 12345
  983/ 32E :                            ;	ea=12345  ;q0=ea;
  984/ 32E : 84 39 30                   	ld	ea, =12345
  985/ 331 : 8D A0                      	st	ea,q0
  986/ 333 :                            ;
  987/ 333 :                            ;	// q4 = 16
  988/ 333 :                            ;	ea=100    ;q4=ea;
  989/ 333 : 84 64 00                   	ld	ea, =100
  990/ 336 : 8D A4                      	st	ea,q4
  991/ 338 :                            ;
  992/ 338 :                            ;	p2=#q0;a='*';p2_dump(); //メモリーダンプの実行.
  993/ 338 : 26 A0 FF                   	ld	p2, =q0
  994/ 33B : C4 2A                      	ld	a, ='*'
  995/ 33D : 20 45 06                   	jsr	p2_dump
  996/ 340 :                            ;	// q0/q4
  997/ 340 :                            ;	div16_8();
  998/ 340 : 20 FD 02                   	jsr	div16_8
  999/ 343 :                            ;
 1000/ 343 :                            ;	p2=#q0;a='*';p2_dump(); //メモリーダンプの実行.
 1001/ 343 : 26 A0 FF                   	ld	p2, =q0
 1002/ 346 : C4 2A                      	ld	a, ='*'
 1003/ 348 : 20 45 06                   	jsr	p2_dump
 1004/ 34B :                            ;}
 1005/ 34B : 5C                         	ret
 1006/ 34C :                            ;
 1007/ 34C :                            ;mp_set()
 1008/ 34C :                            ;{
 1009/ 34C :                            mp_set:
 1010/ 34C :                            ;	e=a;
 1011/ 34C : 48                         	ld	e,a
 1012/ 34D :                            ;	*p2++ = 0;
 1013/ 34D : C4 00                      	ld	a, =0
 1014/ 34F : CE 01                      	st	a, @1,p2
 1015/ 351 :                            ;	a=e;
 1016/ 351 : 40                         	ld	a,e
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 18 - 2025年01月24日 12時43分11秒


 1017/ 352 :                            ;	*p2++ = a;
 1018/ 352 : CE 01                      	st	a, @1,p2
 1019/ 354 :                            ;
 1020/ 354 :                            ;	ea=#PRECISION;cnt1=ea;
 1021/ 354 : 84 88 13                   	ld	ea, =PRECISION
 1022/ 357 : 8D 81                      	st	ea,cnt1
 1023/ 359 :                            ;	do {
 1024/ 359 :                            __do029:
 1025/ 359 :                            ;		*p2++ = 0;
 1026/ 359 : C4 00                      	ld	a, =0
 1027/ 35B : CE 01                      	st	a, @1,p2
 1028/ 35D :                            ;		dec_w(cnt1);
 1029/ 35D : (MACRO)                    	dec_w	cnt1
 1029/ 35D : 85 81                              ld ea,CNT1
 1029/ 35F : BC 01 00                           sub ea, =1
 1029/ 362 : 8D 81                              st ea,CNT1
 1029/ 364 :                                    
 1029/ 364 : 58                                 or a,e
 1029/ 365 :                            
 1030/ 365 :                            ;	}while(a!=0);
 1031/ 365 : 7C F2                      	bnz	__do029
 1032/ 367 :                            __od029:
 1033/ 367 :                            ;}
 1034/ 367 : 5C                         	ret
 1035/ 368 :                            ;
 1036/ 368 :                            ;mp_zerochk()
 1037/ 368 :                            ;{
 1038/ 368 :                            mp_zerochk:
 1039/ 368 :                            ;	ea=#PRECISION; ea-=10; cnt1=ea;
 1040/ 368 : 84 88 13                   	ld	ea, =PRECISION
 1041/ 36B : BC 0A 00                   	sub	ea, =10
 1042/ 36E : 8D 81                      	st	ea,cnt1
 1043/ 370 :                            ;	do {
 1044/ 370 :                            __do030:
 1045/ 370 :                            ;		a = *p2++;
 1046/ 370 : C6 01                      	ld	a, @1,p2
 1047/ 372 :                            ;		if(a!=0) {
 1048/ 372 : 6C 01                      	bz	__el031
 1049/ 374 :                            ;			return;
 1050/ 374 : 5C                         	ret
 1051/ 375 :                            ;		}
 1052/ 375 :                            ;		dec_w(cnt1);
 1053/ 375 :                            __el031:
 1054/ 375 : (MACRO)                    	dec_w	cnt1
 1054/ 375 : 85 81                              ld ea,CNT1
 1054/ 377 : BC 01 00                           sub ea, =1
 1054/ 37A : 8D 81                              st ea,CNT1
 1054/ 37C :                                    
 1054/ 37C : 58                                 or a,e
 1054/ 37D :                            
 1055/ 37D :                            ;	}while(a!=0);
 1056/ 37D : 7C F1                      	bnz	__do030
 1057/ 37F :                            __od030:
 1058/ 37F :                            ;	a=0; // Zero判定!
 1059/ 37F : C4 00                      	ld	a, =0
 1060/ 381 :                            ;}
 1061/ 381 : 5C                         	ret
 1062/ 382 :                            ;
 1063/ 382 :                            ;mp_copy()
 1064/ 382 :                            ;{
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 19 - 2025年01月24日 12時43分11秒


 1065/ 382 :                            mp_copy:
 1066/ 382 :                            ;	ea=#PRECISION;cnt1=ea;
 1067/ 382 : 84 88 13                   	ld	ea, =PRECISION
 1068/ 385 : 8D 81                      	st	ea,cnt1
 1069/ 387 :                            ;	do {
 1070/ 387 :                            __do032:
 1071/ 387 :                            ;		a = *p3++;
 1072/ 387 : C7 01                      	ld	a, @1,p3
 1073/ 389 :                            ;		    *p2++ = a;
 1074/ 389 : CE 01                      	st	a, @1,p2
 1075/ 38B :                            ;		dec_w(cnt1);
 1076/ 38B : (MACRO)                    	dec_w	cnt1
 1076/ 38B : 85 81                              ld ea,CNT1
 1076/ 38D : BC 01 00                           sub ea, =1
 1076/ 390 : 8D 81                              st ea,CNT1
 1076/ 392 :                                    
 1076/ 392 : 58                                 or a,e
 1076/ 393 :                            
 1077/ 393 :                            ;	}while(a!=0);
 1078/ 393 : 7C F2                      	bnz	__do032
 1079/ 395 :                            __od032:
 1080/ 395 :                            ;}
 1081/ 395 : 5C                         	ret
 1082/ 396 :                            ;/**********************************************************************
 1083/ 396 :                            ; *  p2 配列 の先頭ゼロをスキップする.
 1084/ 396 :                            ; **********************************************************************
 1085/ 396 :                            ; *  p2=ポインタ cnt1:cnt2=桁数(byte数)カウント
 1086/ 396 :                            ; */
 1087/ 396 :                            ;mp_div_zeroskip16()
 1088/ 396 :                            ;{
 1089/ 396 :                            mp_div_zeroskip16:
 1090/ 396 :                            ;	do {
 1091/ 396 :                            __do033:
 1092/ 396 :                            ;		a = p2[0];e=a;
 1093/ 396 : C2 00                      	ld	a,0,p2
 1094/ 398 : 48                         	ld	e,a
 1095/ 399 :                            ;		a = p2[1];
 1096/ 399 : C2 01                      	ld	a,1,p2
 1097/ 39B :                            ;		a |= e;
 1098/ 39B : 58                         	or	a,e
 1099/ 39C :                            ;		if(a!=0) return; // ea != 0
 1100/ 39C : 6C 01                      	bz	__el034
 1101/ 39E : 5C                         	ret
 1102/ 39F :                            ;
 1103/ 39F :                            ;		//ポインタを2バイト進める
 1104/ 39F :                            ;		ld(a,@2,p2);
 1105/ 39F :                            __el034:
 1106/ 39F : C6 02                      	ld	a,@2,p2
 1107/ 3A1 :                            ;		dec_w(cnt1);
 1108/ 3A1 : (MACRO)                    	dec_w	cnt1
 1108/ 3A1 : 85 81                              ld ea,CNT1
 1108/ 3A3 : BC 01 00                           sub ea, =1
 1108/ 3A6 : 8D 81                              st ea,CNT1
 1108/ 3A8 :                                    
 1108/ 3A8 : 58                                 or a,e
 1108/ 3A9 :                            
 1109/ 3A9 :                            ;	}while(a!=0);
 1110/ 3A9 : 7C EB                      	bnz	__do033
 1111/ 3AB :                            __od033:
 1112/ 3AB :                            ;	a=0;
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 20 - 2025年01月24日 12時43分11秒


 1113/ 3AB : C4 00                      	ld	a, =0
 1114/ 3AD :                            ;}
 1115/ 3AD : 5C                         	ret
 1116/ 3AE :                            ;/**********************************************************************
 1117/ 3AE :                            ; *  p2 配列 の先頭ゼロをスキップする.
 1118/ 3AE :                            ; **********************************************************************
 1119/ 3AE :                            ; *  p2=ポインタ cnt1:cnt2=桁数(byte数)カウント
 1120/ 3AE :                            ; */
 1121/ 3AE :                            ;mp_div_zeroskip8()
 1122/ 3AE :                            ;{
 1123/ 3AE :                            mp_div_zeroskip8:
 1124/ 3AE :                            ;	do {
 1125/ 3AE :                            __do035:
 1126/ 3AE :                            ;		a = p2[0];
 1127/ 3AE : C2 00                      	ld	a,0,p2
 1128/ 3B0 :                            ;		if(a!=0) return; // a != 0
 1129/ 3B0 : 6C 01                      	bz	__el036
 1130/ 3B2 : 5C                         	ret
 1131/ 3B3 :                            ;
 1132/ 3B3 :                            ;		//ポインタを1バイト進める
 1133/ 3B3 :                            ;		ld(a,@1,p2);
 1134/ 3B3 :                            __el036:
 1135/ 3B3 : C6 01                      	ld	a,@1,p2
 1136/ 3B5 :                            ;		dec_w(cnt1);
 1137/ 3B5 : (MACRO)                    	dec_w	cnt1
 1137/ 3B5 : 85 81                              ld ea,CNT1
 1137/ 3B7 : BC 01 00                           sub ea, =1
 1137/ 3BA : 8D 81                              st ea,CNT1
 1137/ 3BC :                                    
 1137/ 3BC : 58                                 or a,e
 1137/ 3BD :                            
 1138/ 3BD :                            ;	}while(a!=0);
 1139/ 3BD : 7C EF                      	bnz	__do035
 1140/ 3BF :                            __od035:
 1141/ 3BF :                            ;	a=0;
 1142/ 3BF : C4 00                      	ld	a, =0
 1143/ 3C1 :                            ;}
 1144/ 3C1 : 5C                         	ret
 1145/ 3C2 :                            ;/**********************************************************************
 1146/ 3C2 :                            ; *  p2 配列 を 整数 reg_ea で除算する
 1147/ 3C2 :                            ; *	   一回の除算単位は 8bit (16bit/8bit)
 1148/ 3C2 :                            ; **********************************************************************
 1149/ 3C2 :                            ; *     q4 = 除数.
 1150/ 3C2 :                            ; *     p2 = 被除数配列.
 1151/ 3C2 :                            ; */
 1152/ 3C2 :                            ;mp_div8()
 1153/ 3C2 :                            ;{
 1154/ 3C2 :                            mp_div8:
 1155/ 3C2 :                            ;	ea=#PRECISION;cnt1=ea;	// ループ回数.
 1156/ 3C2 : 84 88 13                   	ld	ea, =PRECISION
 1157/ 3C5 : 8D 81                      	st	ea,cnt1
 1158/ 3C7 :                            ;
 1159/ 3C7 :                            ;	mp_div_zeroskip8();if(a==0) return; //全部ゼロ.
 1160/ 3C7 : 20 AD 03                   	jsr	mp_div_zeroskip8
 1161/ 3CA : 7C 01                      	bnz	__el037
 1162/ 3CC : 5C                         	ret
 1163/ 3CD :                            ;
 1164/ 3CD :                            ;    a=0;q1=a;
 1165/ 3CD :                            __el037:
 1166/ 3CD : C4 00                      	ld	a, =0
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 21 - 2025年01月24日 12時43分11秒


 1167/ 3CF : CD A1                      	st	a,q1
 1168/ 3D1 :                            ;	do {
 1169/ 3D1 :                            __do038:
 1170/ 3D1 :                            ;
 1171/ 3D1 :                            ;/***
 1172/ 3D1 :                            ;// :最適化前
 1173/ 3D1 :                            ;		a = p2[0];
 1174/ 3D1 :                            ;		q0=a; // q0:q1= 被除数.
 1175/ 3D1 :                            ;		div16_8();
 1176/ 3D1 :                            ;		// q0 = 商
 1177/ 3D1 :                            ;		a=q0;
 1178/ 3D1 :                            ;		p2[0]=a;	
 1179/ 3D1 :                            ;		// q1 = 剰余(次のループで256倍して再利用)
 1180/ 3D1 :                            ;
 1181/ 3D1 :                            ;		//ポインタを1バイト進める
 1182/ 3D1 :                            ;		ld(a,@1,p2);
 1183/ 3D1 :                            ; ***/
 1184/ 3D1 :                            ;
 1185/ 3D1 :                            ;// === q0:q1 の16bit /  q4 (8bit) ==> q0 剰余は q1
 1186/ 3D1 :                            ;		a =p2[0];
 1187/ 3D1 : C2 00                      	ld	a,0,p2
 1188/ 3D3 :                            ;		q0=a; // q0:q1= 被除数.
 1189/ 3D3 : CD A0                      	st	a,q0
 1190/ 3D5 :                            ;
 1191/ 3D5 :                            ;		e=0;a=q4;t=ea;
 1192/ 3D5 : 01                         	xch	e,a
 1193/ 3D6 : C4 00                      	ld	a, =0
 1194/ 3D8 : 01                         	xch	e,a
 1195/ 3D9 : C5 A4                      	ld	a,q4
 1196/ 3DB : 09                         	ld	t,ea
 1197/ 3DC :                            ;		ea=q0;
 1198/ 3DC : 85 A0                      	ld	ea,q0
 1199/ 3DE :                            ;		div(ea,t);
 1200/ 3DE : 0D                         	div	ea,t
 1201/ 3DF :                            ;		// q0 = 商
 1202/ 3DF :                            ;		*p2++=a;	
 1203/ 3DF : CE 01                      	st	a, @1,p2
 1204/ 3E1 :                            ;
 1205/ 3E1 :                            ;		// q1 = 剰余(次のループで256倍して再利用)
 1206/ 3E1 :                            ;		ea=t;
 1207/ 3E1 : 0B                         	ld	ea,t
 1208/ 3E2 :                            ;		q1=a;	//剰余.
 1209/ 3E2 : CD A1                      	st	a,q1
 1210/ 3E4 :                            ;// ===
 1211/ 3E4 :                            ;
 1212/ 3E4 :                            ;		dec_w(cnt1);
 1213/ 3E4 : (MACRO)                    	dec_w	cnt1
 1213/ 3E4 : 85 81                              ld ea,CNT1
 1213/ 3E6 : BC 01 00                           sub ea, =1
 1213/ 3E9 : 8D 81                              st ea,CNT1
 1213/ 3EB :                                    
 1213/ 3EB : 58                                 or a,e
 1213/ 3EC :                            
 1214/ 3EC :                            ;	}while(a!=0);
 1215/ 3EC : 7C E3                      	bnz	__do038
 1216/ 3EE :                            __od038:
 1217/ 3EE :                            ;}
 1218/ 3EE : 5C                         	ret
 1219/ 3EF :                            ;/**********************************************************************
 1220/ 3EF :                            ; *  p2 配列 を 整数 reg_ea で除算する
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 22 - 2025年01月24日 12時43分11秒


 1221/ 3EF :                            ; *	   一回の除算単位は16bit (32bit/16bit)
 1222/ 3EF :                            ; **********************************************************************
 1223/ 3EF :                            ; * mp_div(MP *p2,int ea)
 1224/ 3EF :                            ; */
 1225/ 3EF :                            ;mp_div()
 1226/ 3EF :                            ;{
 1227/ 3EF :                            mp_div:
 1228/ 3EF :                            ;	q4=ea; 		// q4:q5 = 除数.
 1229/ 3EF : 8D A4                      	st	ea,q4
 1230/ 3F1 :                            ;	ea=0;q2=ea;	// q2:q3 = 剰余ワーク（除算キャリー伝播としても使用）
 1231/ 3F1 : 84 00 00                   	ld	ea, =0
 1232/ 3F4 : 8D A2                      	st	ea,q2
 1233/ 3F6 :                            ;
 1234/ 3F6 :                            ;	// 除数が 1～127の範囲内なら、DIV命令を使う8bit単位の多倍長演算に任せる.
 1235/ 3F6 :                            ;	a=q5;if(a==0) {
 1236/ 3F6 : C5 A5                      	ld	a,q5
 1237/ 3F8 : 7C 0A                      	bnz	__el039
 1238/ 3FA :                            ;		a=q4;if(a<0x80) {
 1239/ 3FA : C5 A4                      	ld	a,q4
 1240/ 3FC : FC 80                      	sub	a, =0x80
 1241/ 3FE : 64 04                      	bp	__el040
 1242/ 400 :                            ;			mp_div8();return;
 1243/ 400 : 20 C1 03                   	jsr	mp_div8
 1244/ 403 : 5C                         	ret
 1245/ 404 :                            ;		}
 1246/ 404 :                            ;	}
 1247/ 404 :                            __el040:
 1248/ 404 :                            ;
 1249/ 404 :                            ;	// 除数が 129～ の場合は、16bit 単位で処理する多倍長演算を実行する.
 1250/ 404 :                            ;	ea=#PRECISION;ea>>=1;	// ループ回数.
 1251/ 404 :                            __el039:
 1252/ 404 : 84 88 13                   	ld	ea, =PRECISION
 1253/ 407 : 0C                         	sr	ea
 1254/ 408 :                            ;	cnt1=ea;
 1255/ 408 : 8D 81                      	st	ea,cnt1
 1256/ 40A :                            ;
 1257/ 40A :                            ;	mp_div_zeroskip16();if(a==0) return; //全部ゼロ.
 1258/ 40A : 20 95 03                   	jsr	mp_div_zeroskip16
 1259/ 40D : 7C 01                      	bnz	__el041
 1260/ 40F : 5C                         	ret
 1261/ 410 :                            ;
 1262/ 410 :                            ;	do {
 1263/ 410 :                            __el041:
 1264/ 410 :                            __do042:
 1265/ 410 :                            ;		a = p2[0];e=a;
 1266/ 410 : C2 00                      	ld	a,0,p2
 1267/ 412 : 48                         	ld	e,a
 1268/ 413 :                            ;		a = p2[1];
 1269/ 413 : C2 01                      	ld	a,1,p2
 1270/ 415 :                            ;		q0=ea; // q0:q3= 被除数.
 1271/ 415 : 8D A0                      	st	ea,q0
 1272/ 417 :                            ;		div32_16();
 1273/ 417 : 20 C1 02                   	jsr	div32_16
 1274/ 41A :                            ;
 1275/ 41A :                            ;		// q0:q1 = 商
 1276/ 41A :                            ;		ea=q0;
 1277/ 41A : 85 A0                      	ld	ea,q0
 1278/ 41C :                            ;		p2[1]=a; a=e;
 1279/ 41C : CA 01                      	st	a,1,p2
 1280/ 41E : 40                         	ld	a,e
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 23 - 2025年01月24日 12時43分11秒


 1281/ 41F :                            ;		p2[0]=a;	
 1282/ 41F : CA 00                      	st	a,0,p2
 1283/ 421 :                            ;		// q2:q3 = 剰余(次のループで65536倍して再利用)
 1284/ 421 :                            ;
 1285/ 421 :                            ;		//ポインタを2バイト進める
 1286/ 421 :                            ;		ld(a,@2,p2);
 1287/ 421 : C6 02                      	ld	a,@2,p2
 1288/ 423 :                            ;
 1289/ 423 :                            ;		dec_w(cnt1);
 1290/ 423 : (MACRO)                    	dec_w	cnt1
 1290/ 423 : 85 81                              ld ea,CNT1
 1290/ 425 : BC 01 00                           sub ea, =1
 1290/ 428 : 8D 81                              st ea,CNT1
 1290/ 42A :                                    
 1290/ 42A : 58                                 or a,e
 1290/ 42B :                            
 1291/ 42B :                            ;	}while(a!=0);
 1292/ 42B : 7C E3                      	bnz	__do042
 1293/ 42D :                            __od042:
 1294/ 42D :                            ;}
 1295/ 42D : 5C                         	ret
 1296/ 42E :                            ;
 1297/ 42E :                            ;p2_last()
 1298/ 42E :                            ;{
 1299/ 42E :                            p2_last:
 1300/ 42E :                            ;	ea=p2;
 1301/ 42E : 32                         	ld	ea,p2
 1302/ 42F :                            ;	ea+=#PRECISION;
 1303/ 42F : B4 88 13                   	add	ea, =PRECISION
 1304/ 432 :                            ;	ea-=1;
 1305/ 432 : BC 01 00                   	sub	ea, =1
 1306/ 435 :                            ;	p2=ea;
 1307/ 435 : 46                         	ld	p2,ea
 1308/ 436 :                            ;}
 1309/ 436 : 5C                         	ret
 1310/ 437 :                            ;p3_last()
 1311/ 437 :                            ;{
 1312/ 437 :                            p3_last:
 1313/ 437 :                            ;	ea=p3;
 1314/ 437 : 33                         	ld	ea,p3
 1315/ 438 :                            ;	ea+=#PRECISION;
 1316/ 438 : B4 88 13                   	add	ea, =PRECISION
 1317/ 43B :                            ;	ea-=1;
 1318/ 43B : BC 01 00                   	sub	ea, =1
 1319/ 43E :                            ;	p3=ea;
 1320/ 43E : 47                         	ld	p3,ea
 1321/ 43F :                            ;}
 1322/ 43F : 5C                         	ret
 1323/ 440 :                            ;/**********************************************************************
 1324/ 440 :                            ; *	多倍長減算： p2 = p2 - p3
 1325/ 440 :                            ; **********************************************************************
 1326/ 440 :                            ; *   mp_add(p2 += p3)
 1327/ 440 :                            ; */
 1328/ 440 :                            ;mp_add()
 1329/ 440 :                            ;{
 1330/ 440 :                            mp_add:
 1331/ 440 :                            ;	p2_last();
 1332/ 440 : 20 2D 04                   	jsr	p2_last
 1333/ 443 :                            ;	p3_last();
 1334/ 443 : 20 36 04                   	jsr	p3_last
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 24 - 2025年01月24日 12時43分11秒


 1335/ 446 :                            ;
 1336/ 446 :                            ;	cyr1=0;	// CY
 1337/ 446 : C4 00                      	ld	a, =0
 1338/ 448 : CD B1                      	st	a,cyr1
 1339/ 44A :                            ;	cyr2=0;
 1340/ 44A : C4 00                      	ld	a, =0
 1341/ 44C : CD B2                      	st	a,cyr2
 1342/ 44E :                            ;
 1343/ 44E :                            ;	r0 = 0;
 1344/ 44E : C4 00                      	ld	a, =0
 1345/ 450 : CD A8                      	st	a,r0
 1346/ 452 :                            ;	r1 = 0;
 1347/ 452 : C4 00                      	ld	a, =0
 1348/ 454 : CD AA                      	st	a,r1
 1349/ 456 :                            ;	r2 = 0;
 1350/ 456 : C4 00                      	ld	a, =0
 1351/ 458 : CD AC                      	st	a,r2
 1352/ 45A :                            ;	r3 = 0;
 1353/ 45A : C4 00                      	ld	a, =0
 1354/ 45C : CD AE                      	st	a,r3
 1355/ 45E :                            ;
 1356/ 45E :                            ;	ea=#PRECISION;cnt1=ea;
 1357/ 45E : 84 88 13                   	ld	ea, =PRECISION
 1358/ 461 : 8D 81                      	st	ea,cnt1
 1359/ 463 :                            ;	do {
 1360/ 463 :                            __do043:
 1361/ 463 :                            ;		// p2[0] -= p3[0];
 1362/ 463 :                            ;		a = *p2; r0 = a;
 1363/ 463 : C2 00                      	ld	a, 0,p2
 1364/ 465 : CD A8                      	st	a,r0
 1365/ 467 :                            ;		a = *p3; r2 = a;
 1366/ 467 : C3 00                      	ld	a, 0,p3
 1367/ 469 : CD AC                      	st	a,r2
 1368/ 46B :                            ;
 1369/ 46B :                            ;		ea = r0;
 1370/ 46B : 85 A8                      	ld	ea,r0
 1371/ 46D :                            ;		ea +=r2;
 1372/ 46D : B5 AC                      	add	ea,r2
 1373/ 46F :                            ;		ea +=cyr1; // CY を含めて減算.
 1374/ 46F : B5 B1                      	add	ea,cyr1
 1375/ 471 :                            ;		*p2 = a;   // 減算結果8bit
 1376/ 471 : CA 00                      	st	a, 0,p2
 1377/ 473 :                            ;
 1378/ 473 :                            ;		// CYをcyr1:cyr2に整数値(0 or 1)で保管.
 1379/ 473 :                            ;		cyr1=0;
 1380/ 473 : C4 00                      	ld	a, =0
 1381/ 475 : CD B1                      	st	a,cyr1
 1382/ 477 :                            ;		a=e;if(a!=0) {cyr1=1;}
 1383/ 477 : 40                         	ld	a,e
 1384/ 478 : 6C 04                      	bz	__el044
 1385/ 47A : C4 01                      	ld	a, =1
 1386/ 47C : CD B1                      	st	a,cyr1
 1387/ 47E :                            ;
 1388/ 47E :                            ;		// p2++ p3++;
 1389/ 47E :                            ;		ld(a,@-1,p2);		
 1390/ 47E :                            __el044:
 1391/ 47E : C6 FF                      	ld	a,@-1,p2
 1392/ 480 :                            ;		ld(a,@-1,p3);		
 1393/ 480 : C7 FF                      	ld	a,@-1,p3
 1394/ 482 :                            ;
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 25 - 2025年01月24日 12時43分11秒


 1395/ 482 :                            ;		dec_w(cnt1);
 1396/ 482 : (MACRO)                    	dec_w	cnt1
 1396/ 482 : 85 81                              ld ea,CNT1
 1396/ 484 : BC 01 00                           sub ea, =1
 1396/ 487 : 8D 81                              st ea,CNT1
 1396/ 489 :                                    
 1396/ 489 : 58                                 or a,e
 1396/ 48A :                            
 1397/ 48A :                            ;	}while(a!=0);
 1398/ 48A : 7C D7                      	bnz	__do043
 1399/ 48C :                            __od043:
 1400/ 48C :                            ;}
 1401/ 48C : 5C                         	ret
 1402/ 48D :                            ;
 1403/ 48D :                            ;/**********************************************************************
 1404/ 48D :                            ; *	多倍長減算： p2 = p2 - p3
 1405/ 48D :                            ; **********************************************************************
 1406/ 48D :                            ; *   mp_sub(p2 -= p3)
 1407/ 48D :                            ; */
 1408/ 48D :                            ;mp_sub()
 1409/ 48D :                            ;{
 1410/ 48D :                            mp_sub:
 1411/ 48D :                            ;	p2_last();
 1412/ 48D : 20 2D 04                   	jsr	p2_last
 1413/ 490 :                            ;	p3_last();
 1414/ 490 : 20 36 04                   	jsr	p3_last
 1415/ 493 :                            ;
 1416/ 493 :                            ;	cyr1=0;	// CY
 1417/ 493 : C4 00                      	ld	a, =0
 1418/ 495 : CD B1                      	st	a,cyr1
 1419/ 497 :                            ;	cyr2=0;
 1420/ 497 : C4 00                      	ld	a, =0
 1421/ 499 : CD B2                      	st	a,cyr2
 1422/ 49B :                            ;
 1423/ 49B :                            ;	r0 = 0;
 1424/ 49B : C4 00                      	ld	a, =0
 1425/ 49D : CD A8                      	st	a,r0
 1426/ 49F :                            ;	r1 = 0;
 1427/ 49F : C4 00                      	ld	a, =0
 1428/ 4A1 : CD AA                      	st	a,r1
 1429/ 4A3 :                            ;	r2 = 0;
 1430/ 4A3 : C4 00                      	ld	a, =0
 1431/ 4A5 : CD AC                      	st	a,r2
 1432/ 4A7 :                            ;	r3 = 0;
 1433/ 4A7 : C4 00                      	ld	a, =0
 1434/ 4A9 : CD AE                      	st	a,r3
 1435/ 4AB :                            ;
 1436/ 4AB :                            ;	ea=#PRECISION;cnt1=ea;
 1437/ 4AB : 84 88 13                   	ld	ea, =PRECISION
 1438/ 4AE : 8D 81                      	st	ea,cnt1
 1439/ 4B0 :                            ;	do {
 1440/ 4B0 :                            __do045:
 1441/ 4B0 :                            ;		// p2[0] -= p3[0];
 1442/ 4B0 :                            ;		a = *p2; r0 = a;
 1443/ 4B0 : C2 00                      	ld	a, 0,p2
 1444/ 4B2 : CD A8                      	st	a,r0
 1445/ 4B4 :                            ;		a = *p3; r2 = a;
 1446/ 4B4 : C3 00                      	ld	a, 0,p3
 1447/ 4B6 : CD AC                      	st	a,r2
 1448/ 4B8 :                            ;
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 26 - 2025年01月24日 12時43分11秒


 1449/ 4B8 :                            ;		ea = r0;
 1450/ 4B8 : 85 A8                      	ld	ea,r0
 1451/ 4BA :                            ;		ea -=r2;
 1452/ 4BA : BD AC                      	sub	ea,r2
 1453/ 4BC :                            ;		ea -=cyr1; // CY を含めて減算.
 1454/ 4BC : BD B1                      	sub	ea,cyr1
 1455/ 4BE :                            ;		*p2 = a;   // 減算結果8bit
 1456/ 4BE : CA 00                      	st	a, 0,p2
 1457/ 4C0 :                            ;
 1458/ 4C0 :                            ;		// CYをcyr1:cyr2に整数値(0 or 1)で保管.
 1459/ 4C0 :                            ;		cyr1=0;
 1460/ 4C0 : C4 00                      	ld	a, =0
 1461/ 4C2 : CD B1                      	st	a,cyr1
 1462/ 4C4 :                            ;		a=e;if(a!=0) {cyr1=1;}
 1463/ 4C4 : 40                         	ld	a,e
 1464/ 4C5 : 6C 04                      	bz	__el046
 1465/ 4C7 : C4 01                      	ld	a, =1
 1466/ 4C9 : CD B1                      	st	a,cyr1
 1467/ 4CB :                            ;
 1468/ 4CB :                            ;		// p2-- p3--;
 1469/ 4CB :                            ;		ld(a,@-1,p2);		
 1470/ 4CB :                            __el046:
 1471/ 4CB : C6 FF                      	ld	a,@-1,p2
 1472/ 4CD :                            ;		ld(a,@-1,p3);		
 1473/ 4CD : C7 FF                      	ld	a,@-1,p3
 1474/ 4CF :                            ;
 1475/ 4CF :                            ;		dec_w(cnt1);
 1476/ 4CF : (MACRO)                    	dec_w	cnt1
 1476/ 4CF : 85 81                              ld ea,CNT1
 1476/ 4D1 : BC 01 00                           sub ea, =1
 1476/ 4D4 : 8D 81                              st ea,CNT1
 1476/ 4D6 :                                    
 1476/ 4D6 : 58                                 or a,e
 1476/ 4D7 :                            
 1477/ 4D7 :                            ;	}while(a!=0);
 1478/ 4D7 : 7C D7                      	bnz	__do045
 1479/ 4D9 :                            __od045:
 1480/ 4D9 :                            ;}
 1481/ 4D9 : 5C                         	ret
 1482/ 4DA :                            ;/**********************************************************************
 1483/ 4DA :                            ; *  ea を 10倍する.
 1484/ 4DA :                            ; **********************************************************************
 1485/ 4DA :                            ; */
 1486/ 4DA :                            ;ea_mul10()
 1487/ 4DA :                            ;{
 1488/ 4DA :                            ea_mul10:
 1489/ 4DA :                            ;	// 乗算命令MPYはEAとTの内容を乗じて上位16 bitをEAに、下位16 bitをTに入れます。
 1490/ 4DA :                            ;	// 演算は符号付きで行われます。
 1491/ 4DA :                            ;	t=ea;
 1492/ 4DA : 09                         	ld	t,ea
 1493/ 4DB :                            ;	ea=10;mpy(ea,t);
 1494/ 4DB : 84 0A 00                   	ld	ea, =10
 1495/ 4DE : 2C                         	mpy	ea,t
 1496/ 4DF :                            ;	ea=t;
 1497/ 4DF : 0B                         	ld	ea,t
 1498/ 4E0 :                            ;}
 1499/ 4E0 : 5C                         	ret
 1500/ 4E1 :                            ;
 1501/ 4E1 :                            ;/**********************************************************************
 1502/ 4E1 :                            ; *  ea を 二乗する.
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 27 - 2025年01月24日 12時43分11秒


 1503/ 4E1 :                            ; **********************************************************************
 1504/ 4E1 :                            ; */
 1505/ 4E1 :                            ;ea_mul_ea()
 1506/ 4E1 :                            ;{
 1507/ 4E1 :                            ea_mul_ea:
 1508/ 4E1 :                            ;	// 乗算命令MPYはEAとTの内容を乗じて上位16 bitをEAに、下位16 bitをTに入れます。
 1509/ 4E1 :                            ;	// 演算は符号付きで行われます。
 1510/ 4E1 :                            ;	t=ea;
 1511/ 4E1 : 09                         	ld	t,ea
 1512/ 4E2 :                            ;		mpy(ea,t);
 1513/ 4E2 : 2C                         	mpy	ea,t
 1514/ 4E3 :                            ;	ea=t;
 1515/ 4E3 : 0B                         	ld	ea,t
 1516/ 4E4 :                            ;}
 1517/ 4E4 : 5C                         	ret
 1518/ 4E5 :                            ;
 1519/ 4E5 :                            ;
 1520/ 4E5 :                            ;/**********************************************************************
 1521/ 4E5 :                            ; *  m0 を 10倍する.
 1522/ 4E5 :                            ; **********************************************************************
 1523/ 4E5 :                            ; * mp_mul10(p2)
 1524/ 4E5 :                            ; */
 1525/ 4E5 :                            ;mp_mul10()
 1526/ 4E5 :                            ;{
 1527/ 4E5 :                            mp_mul10:
 1528/ 4E5 :                            ;	p2_last();
 1529/ 4E5 : 20 2D 04                   	jsr	p2_last
 1530/ 4E8 :                            ;
 1531/ 4E8 :                            ;	cyr0=0;
 1532/ 4E8 : C4 00                      	ld	a, =0
 1533/ 4EA : CD B0                      	st	a,cyr0
 1534/ 4EC :                            ;	cyr1=0;	// CY
 1535/ 4EC : C4 00                      	ld	a, =0
 1536/ 4EE : CD B1                      	st	a,cyr1
 1537/ 4F0 :                            ;	cyr2=0;
 1538/ 4F0 : C4 00                      	ld	a, =0
 1539/ 4F2 : CD B2                      	st	a,cyr2
 1540/ 4F4 :                            ;
 1541/ 4F4 :                            ;	r2 = 0;
 1542/ 4F4 : C4 00                      	ld	a, =0
 1543/ 4F6 : CD AC                      	st	a,r2
 1544/ 4F8 :                            ;	r3 = 0;
 1545/ 4F8 : C4 00                      	ld	a, =0
 1546/ 4FA : CD AE                      	st	a,r3
 1547/ 4FC :                            ;
 1548/ 4FC :                            ;	ea=#PRECISION;cnt1=ea;
 1549/ 4FC : 84 88 13                   	ld	ea, =PRECISION
 1550/ 4FF : 8D 81                      	st	ea,cnt1
 1551/ 501 :                            ;	do {
 1552/ 501 :                            __do047:
 1553/ 501 :                            ;		a = *p2; r0 = a;
 1554/ 501 : C2 00                      	ld	a, 0,p2
 1555/ 503 : CD A8                      	st	a,r0
 1556/ 505 :                            ;		a = 0;   r1 = a;
 1557/ 505 : C4 00                      	ld	a, =0
 1558/ 507 : CD AA                      	st	a,r1
 1559/ 509 :                            ;		ea = r0; ea_mul10();ea+=r2;
 1560/ 509 : 85 A8                      	ld	ea,r0
 1561/ 50B : 20 D9 04                   	jsr	ea_mul10
 1562/ 50E : B5 AC                      	add	ea,r2
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 28 - 2025年01月24日 12時43分11秒


 1563/ 510 :                            ;		*p2 = a;   	// 乗算結果8bit
 1564/ 510 : CA 00                      	st	a, 0,p2
 1565/ 512 :                            ;		
 1566/ 512 :                            ;		a=e;r2=a;  	// 8bitを越える分をr2に保管.
 1567/ 512 : 40                         	ld	a,e
 1568/ 513 : CD AC                      	st	a,r2
 1569/ 515 :                            ;		a=0;r3=a;
 1570/ 515 : C4 00                      	ld	a, =0
 1571/ 517 : CD AE                      	st	a,r3
 1572/ 519 :                            ;
 1573/ 519 :                            ;		// p2--;
 1574/ 519 :                            ;		ld(a,@-1,p2);		
 1575/ 519 : C6 FF                      	ld	a,@-1,p2
 1576/ 51B :                            ;
 1577/ 51B :                            ;		dec_w(cnt1);
 1578/ 51B : (MACRO)                    	dec_w	cnt1
 1578/ 51B : 85 81                              ld ea,CNT1
 1578/ 51D : BC 01 00                           sub ea, =1
 1578/ 520 : 8D 81                              st ea,CNT1
 1578/ 522 :                                    
 1578/ 522 : 58                                 or a,e
 1578/ 523 :                            
 1579/ 523 :                            ;	}while(a!=0);
 1580/ 523 : 7C DC                      	bnz	__do047
 1581/ 525 :                            __od047:
 1582/ 525 :                            ;}
 1583/ 525 : 5C                         	ret
 1584/ 526 :                            ;
 1585/ 526 :                            ;/**********************************************************************
 1586/ 526 :                            ; *	mp を小数以下 (PRECISION*2+1) まで印字.
 1587/ 526 :                            ; **********************************************************************
 1588/ 526 :                            ; * void print_pi(MP *p)
 1589/ 526 :                            ; */
 1590/ 526 :                            ;print_pi()
 1591/ 526 :                            ;{
 1592/ 526 :                            print_pi:
 1593/ 526 :                            ;	tab1=0;lf1=0;top1=0;
 1594/ 526 : C4 00                      	ld	a, =0
 1595/ 528 : CD BA                      	st	a,tab1
 1596/ 52A : C4 00                      	ld	a, =0
 1597/ 52C : CD BB                      	st	a,lf1
 1598/ 52E : C4 00                      	ld	a, =0
 1599/ 530 : CD BD                      	st	a,top1
 1600/ 532 :                            ;	
 1601/ 532 :                            ;//	for(i=0;i< (PRECISION*2+1) ;i++) {
 1602/ 532 :                            ;
 1603/ 532 :                            ;	ea=#PRECISION;ea<<=1;ea+=1;
 1604/ 532 : 84 88 13                   	ld	ea, =PRECISION
 1605/ 535 : 0F                         	sl	ea
 1606/ 536 : B4 01 00                   	add	ea, =1
 1607/ 539 :                            ;	cnt3=ea;
 1608/ 539 : 8D B3                      	st	ea,cnt3
 1609/ 53B :                            ;	do {
 1610/ 53B :                            __do048:
 1611/ 53B :                            ;		//a='+';pi_dump();
 1612/ 53B :                            ;		ea=#Pi;p2=ea;
 1613/ 53B : 84 B8 06                   	ld	ea, =Pi
 1614/ 53E : 46                         	ld	p2,ea
 1615/ 53F :                            ;		a=p2[1];chr1=a;
 1616/ 53F : C2 01                      	ld	a,1,p2
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 29 - 2025年01月24日 12時43分11秒


 1617/ 541 : CD BC                      	st	a,chr1
 1618/ 543 :                            ;		a=0;p2[0]=a;p2[1]=a;
 1619/ 543 : C4 00                      	ld	a, =0
 1620/ 545 : CA 00                      	st	a,0,p2
 1621/ 547 : CA 01                      	st	a,1,p2
 1622/ 549 :                            ;		mp_mul10();
 1623/ 549 : 20 E4 04                   	jsr	mp_mul10
 1624/ 54C :                            ;		a=top1;if(a==0) {
 1625/ 54C : C5 BD                      	ld	a,top1
 1626/ 54E : 7C 1C                      	bnz	__el049
 1627/ 550 :                            ;			top1=1;
 1628/ 550 : C4 01                      	ld	a, =1
 1629/ 552 : CD BD                      	st	a,top1
 1630/ 554 :                            ;//			printf("PI = %c. + \n",'0'+c);
 1631/ 554 :                            ;			push(p2);
 1632/ 554 : 56                         	push	p2
 1633/ 555 :                            ;			p2=#PI_EQU_1; puts();
 1634/ 555 : 26 B6 02                   	ld	p2, =PI_EQU_1
 1635/ 558 : 20 E0 01                   	jsr	puts
 1636/ 55B :                            ;			a=chr1;a+='0';putc();
 1637/ 55B : C5 BC                      	ld	a,chr1
 1638/ 55D : F4 30                      	add	a, ='0'
 1639/ 55F : 20 08 00                   	jsr	putc
 1640/ 562 :                            ;			p2=#PI_EQU_2; puts();
 1641/ 562 : 26 BC 02                   	ld	p2, =PI_EQU_2
 1642/ 565 : 20 E0 01                   	jsr	puts
 1643/ 568 :                            ;			pop(p2);
 1644/ 568 : 5E                         	pop	p2
 1645/ 569 :                            ;		}else{
 1646/ 569 : 24 92 05                   	jmp	__fi049
 1647/ 56C :                            __el049:
 1648/ 56C :                            ;			a=chr1;a+='0';putc();
 1649/ 56C : C5 BC                      	ld	a,chr1
 1650/ 56E : F4 30                      	add	a, ='0'
 1651/ 570 : 20 08 00                   	jsr	putc
 1652/ 573 :                            ;			ild(a,tab1);  // tab1++;
 1653/ 573 : 95 BA                      	ild	a,tab1
 1654/ 575 :                            ;			if(a>=10) {tab1=0;
 1655/ 575 : FC 0A                      	sub	a, =10
 1656/ 577 : 64 02                      	bp	$+4
 1657/ 579 : 74 18                      	bra	__el050
 1658/ 57B : C4 00                      	ld	a, =0
 1659/ 57D : CD BA                      	st	a,tab1
 1660/ 57F :                            ;				a=' ';putc();
 1661/ 57F : C4 20                      	ld	a, =' '
 1662/ 581 : 20 08 00                   	jsr	putc
 1663/ 584 :                            ;				ild(a,lf1);  // tab1++;
 1664/ 584 : 95 BB                      	ild	a,lf1
 1665/ 586 :                            ;				if(a>=5) {lf1=0;
 1666/ 586 : FC 05                      	sub	a, =5
 1667/ 588 : 64 02                      	bp	$+4
 1668/ 58A : 74 07                      	bra	__el051
 1669/ 58C : C4 00                      	ld	a, =0
 1670/ 58E : CD BB                      	st	a,lf1
 1671/ 590 :                            ;					put_crlf();
 1672/ 590 : 20 D5 01                   	jsr	put_crlf
 1673/ 593 :                            ;				}
 1674/ 593 :                            ;			}
 1675/ 593 :                            __el051:
 1676/ 593 :                            ;		}
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 30 - 2025年01月24日 12時43分11秒


 1677/ 593 :                            __el050:
 1678/ 593 :                            __fi049:
 1679/ 593 :                            ;		dec_w(cnt3);
 1680/ 593 : (MACRO)                    	dec_w	cnt3
 1680/ 593 : 85 B3                              ld ea,CNT3
 1680/ 595 : BC 01 00                           sub ea, =1
 1680/ 598 : 8D B3                              st ea,CNT3
 1680/ 59A :                                    
 1680/ 59A : 58                                 or a,e
 1680/ 59B :                            
 1681/ 59B :                            ;	}while(a!=0);
 1682/ 59B : 7C 9E                      	bnz	__do048
 1683/ 59D :                            __od048:
 1684/ 59D :                            ;
 1685/ 59D :                            ;	put_crlf();
 1686/ 59D : 20 D5 01                   	jsr	put_crlf
 1687/ 5A0 :                            ;}
 1688/ 5A0 : 5C                         	ret
 1689/ 5A1 :                            ;
 1690/ 5A1 :                            ;/**********************************************************************
 1691/ 5A1 :                            ; *  ひとつのArcTan項を計算する ma = m * atan(1/n)
 1692/ 5A1 :                            ; **********************************************************************
 1693/ 5A1 :                            ;    void calc_M_atan_1_N(int m1,int n1)
 1694/ 5A1 :                            ; */
 1695/ 5A1 :                            ;calc_M_atan_1_N()
 1696/ 5A1 :                            ;{
 1697/ 5A1 :                            calc_M_atan_1_N:
 1698/ 5A1 :                            ;// n_2 = n1*n1
 1699/ 5A1 :                            ;	e=0;a=n1; ea_mul_ea(); n_2=ea;
 1700/ 5A1 : 01                         	xch	e,a
 1701/ 5A2 : C4 00                      	ld	a, =0
 1702/ 5A4 : 01                         	xch	e,a
 1703/ 5A5 : C5 B8                      	ld	a,n1
 1704/ 5A7 : 20 E0 04                   	jsr	ea_mul_ea
 1705/ 5AA : 8D C2                      	st	ea,n_2
 1706/ 5AC :                            ;	// p2=#n_2; a='*';p2_dump();
 1707/ 5AC :                            ;
 1708/ 5AC :                            ;// ma = m * (1/n)
 1709/ 5AC :                            ;	p2=#ma ; e=0;a=m1  ; mp_set();
 1710/ 5AC : 26 42 1A                   	ld	p2, =ma
 1711/ 5AF : 01                         	xch	e,a
 1712/ 5B0 : C4 00                      	ld	a, =0
 1713/ 5B2 : 01                         	xch	e,a
 1714/ 5B3 : C5 B6                      	ld	a,m1
 1715/ 5B5 : 20 4B 03                   	jsr	mp_set
 1716/ 5B8 :                            ;	p2=#ma ; e=0;a=n1  ; mp_div();
 1717/ 5B8 : 26 42 1A                   	ld	p2, =ma
 1718/ 5BB : 01                         	xch	e,a
 1719/ 5BC : C4 00                      	ld	a, =0
 1720/ 5BE : 01                         	xch	e,a
 1721/ 5BF : C5 B8                      	ld	a,n1
 1722/ 5C1 : 20 EE 03                   	jsr	mp_div
 1723/ 5C4 :                            ;
 1724/ 5C4 :                            ;// mc = m * (1/n)
 1725/ 5C4 :                            ;	p2=#mc ; p3=#ma    ; mp_copy();		//	mc = ma;
 1726/ 5C4 : 26 56 41                   	ld	p2, =mc
 1727/ 5C7 : 27 42 1A                   	ld	p3, =ma
 1728/ 5CA : 20 81 03                   	jsr	mp_copy
 1729/ 5CD :                            ;
 1730/ 5CD :                            ;// arctan(x) = x - (1/3)x**3 + (1/5)x**5 - (1/7)x**7 ・・・
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 31 - 2025年01月24日 12時43分11秒


 1731/ 5CD :                            ;// LOOP: ma +-= mb
 1732/ 5CD :                            ;
 1733/ 5CD :                            ;	sign1=0;
 1734/ 5CD : C4 00                      	ld	a, =0
 1735/ 5CF : CD B9                      	st	a,sign1
 1736/ 5D1 :                            ;
 1737/ 5D1 :                            ;	ea=3;indx0=ea; // indx0 = 3,5,7,9,11, ...
 1738/ 5D1 : 84 03 00                   	ld	ea, =3
 1739/ 5D4 : 8D C0                      	st	ea,indx0
 1740/ 5D6 :                            ;	while(1) {
 1741/ 5D6 :                            __wh052:
 1742/ 5D6 :                            ;		// mc = mc*(1/n)*(1/n)
 1743/ 5D6 :                            ;		a=n_2;if(a==25) {
 1744/ 5D6 : C5 C2                      	ld	a,n_2
 1745/ 5D8 : FC 19                      	sub	a, =25
 1746/ 5DA : 7C 0B                      	bnz	__el053
 1747/ 5DC :                            ;			p2=#mc;	ea=n_2;   mp_div();			// mc = mc * (1/ (n*n) );
 1748/ 5DC : 26 56 41                   	ld	p2, =mc
 1749/ 5DF : 85 C2                      	ld	ea,n_2
 1750/ 5E1 : 20 EE 03                   	jsr	mp_div
 1751/ 5E4 :                            ;		}else{
 1752/ 5E4 : 24 FE 05                   	jmp	__fi053
 1753/ 5E7 :                            __el053:
 1754/ 5E7 :                            ;			p2=#mc;	e=0;a=n1; mp_div();
 1755/ 5E7 : 26 56 41                   	ld	p2, =mc
 1756/ 5EA : 01                         	xch	e,a
 1757/ 5EB : C4 00                      	ld	a, =0
 1758/ 5ED : 01                         	xch	e,a
 1759/ 5EE : C5 B8                      	ld	a,n1
 1760/ 5F0 : 20 EE 03                   	jsr	mp_div
 1761/ 5F3 :                            ;			p2=#mc;	e=0;a=n1; mp_div();
 1762/ 5F3 : 26 56 41                   	ld	p2, =mc
 1763/ 5F6 : 01                         	xch	e,a
 1764/ 5F7 : C4 00                      	ld	a, =0
 1765/ 5F9 : 01                         	xch	e,a
 1766/ 5FA : C5 B8                      	ld	a,n1
 1767/ 5FC : 20 EE 03                   	jsr	mp_div
 1768/ 5FF :                            ;		}
 1769/ 5FF :                            __fi053:
 1770/ 5FF :                            ;		// mb = mc*(1/i)
 1771/ 5FF :                            ;		p2=#mb ; p3=#mc ; mp_copy();		//	mb = mc;
 1772/ 5FF : 26 CC 2D                   	ld	p2, =mb
 1773/ 602 : 27 56 41                   	ld	p3, =mc
 1774/ 605 : 20 81 03                   	jsr	mp_copy
 1775/ 608 :                            ;		p2=#mb ; ea=indx0; mp_div();		//  mb /= indx0;
 1776/ 608 : 26 CC 2D                   	ld	p2, =mb
 1777/ 60B : 85 C0                      	ld	ea,indx0
 1778/ 60D : 20 EE 03                   	jsr	mp_div
 1779/ 610 :                            ;
 1780/ 610 :                            ;		p2=#mb ; mp_zerochk(); if(a==0) break;
 1781/ 610 : 26 CC 2D                   	ld	p2, =mb
 1782/ 613 : 20 67 03                   	jsr	mp_zerochk
 1783/ 616 : 6C 21                      	bz	__ew052
 1784/ 618 :                            ;		
 1785/ 618 :                            ;		p2=#ma ; p3=#mb ;
 1786/ 618 : 26 42 1A                   	ld	p2, =ma
 1787/ 61B : 27 CC 2D                   	ld	p3, =mb
 1788/ 61E :                            ;
 1789/ 61E :                            ;		a=sign1;a ^= 1;sign1=a;
 1790/ 61E : C5 B9                      	ld	a,sign1
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 32 - 2025年01月24日 12時43分11秒


 1791/ 620 : E4 01                      	xor	a, =1
 1792/ 622 : CD B9                      	st	a,sign1
 1793/ 624 :                            ;		if(a!=0) {
 1794/ 624 : 6C 06                      	bz	__el054
 1795/ 626 :                            ;			mp_sub();	// ma += mb;
 1796/ 626 : 20 8C 04                   	jsr	mp_sub
 1797/ 629 :                            ;		}else{
 1798/ 629 : 24 2E 06                   	jmp	__fi054
 1799/ 62C :                            __el054:
 1800/ 62C :                            ;			mp_add();	// ma -= mb;
 1801/ 62C : 20 3F 04                   	jsr	mp_add
 1802/ 62F :                            ;		}
 1803/ 62F :                            __fi054:
 1804/ 62F :                            ;
 1805/ 62F :                            ;		// indx0 += 2;
 1806/ 62F :                            ;		ea=indx0;ea+=2;
 1807/ 62F : 85 C0                      	ld	ea,indx0
 1808/ 631 : B4 02 00                   	add	ea, =2
 1809/ 634 :                            ;		indx0=ea;
 1810/ 634 : 8D C0                      	st	ea,indx0
 1811/ 636 :                            ;	}
 1812/ 636 : 24 D5 05                   	jmp	__wh052
 1813/ 639 :                            __ew052:
 1814/ 639 :                            ;
 1815/ 639 :                            ;	a='A'; ma_dump();
 1816/ 639 : C4 41                      	ld	a, ='A'
 1817/ 63B : 20 66 06                   	jsr	ma_dump
 1818/ 63E :                            ;}
 1819/ 63E : 5C                         	ret
 1820/ 63F :                            ;
 1821/ 63F :                            ;/**********************************************************************
 1822/ 63F :                            ; *	デバッグルーチン
 1823/ 63F :                            ; **********************************************************************
 1824/ 63F :                            ; */
 1825/ 63F :                            ;dump_pi()
 1826/ 63F :                            ;{
 1827/ 63F :                            dump_pi:
 1828/ 63F :                            ;	p2=#Pi; mdump(); //メモリーダンプの実行.
 1829/ 63F : 26 B8 06                   	ld	p2, =Pi
 1830/ 642 : 20 56 01                   	jsr	mdump
 1831/ 645 :                            ;}
 1832/ 645 : 5C                         	ret
 1833/ 646 :                            ;p2_dump()
 1834/ 646 :                            ;{
 1835/ 646 :                            p2_dump:
 1836/ 646 :                            ;	putc();
 1837/ 646 : 20 08 00                   	jsr	putc
 1838/ 649 :                            ;	a=':';putc();
 1839/ 649 : C4 3A                      	ld	a, =':'
 1840/ 64B : 20 08 00                   	jsr	putc
 1841/ 64E :                            ;
 1842/ 64E :                            ;	mdump_8();
 1843/ 64E : 20 7D 01                   	jsr	mdump_8
 1844/ 651 :                            ;	put_crlf();
 1845/ 651 : 20 D5 01                   	jsr	put_crlf
 1846/ 654 :                            ;}
 1847/ 654 : 5C                         	ret
 1848/ 655 :                            ;
 1849/ 655 :                            ;q0_dump()
 1850/ 655 :                            ;{
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 33 - 2025年01月24日 12時43分11秒


 1851/ 655 :                            q0_dump:
 1852/ 655 :                            ;	push(p2);
 1853/ 655 : 56                         	push	p2
 1854/ 656 :                            ;	p2=#q0;p2_dump();
 1855/ 656 : 26 A0 FF                   	ld	p2, =q0
 1856/ 659 : 20 45 06                   	jsr	p2_dump
 1857/ 65C :                            ;	pop(p2);
 1858/ 65C : 5E                         	pop	p2
 1859/ 65D :                            ;}
 1860/ 65D : 5C                         	ret
 1861/ 65E :                            ;
 1862/ 65E :                            ;pi_dump()
 1863/ 65E :                            ;{
 1864/ 65E :                            pi_dump:
 1865/ 65E :                            ;	push(p2);
 1866/ 65E : 56                         	push	p2
 1867/ 65F :                            ;	p2=#Pi;p2_dump();
 1868/ 65F : 26 B8 06                   	ld	p2, =Pi
 1869/ 662 : 20 45 06                   	jsr	p2_dump
 1870/ 665 :                            ;	pop(p2);
 1871/ 665 : 5E                         	pop	p2
 1872/ 666 :                            ;}
 1873/ 666 : 5C                         	ret
 1874/ 667 :                            ;
 1875/ 667 :                            ;ma_dump()
 1876/ 667 :                            ;{
 1877/ 667 :                            ma_dump:
 1878/ 667 :                            ;	push(p2);
 1879/ 667 : 56                         	push	p2
 1880/ 668 :                            ;	p2=#ma;p2_dump();
 1881/ 668 : 26 42 1A                   	ld	p2, =ma
 1882/ 66B : 20 45 06                   	jsr	p2_dump
 1883/ 66E :                            ;	pop(p2);
 1884/ 66E : 5E                         	pop	p2
 1885/ 66F :                            ;}
 1886/ 66F : 5C                         	ret
 1887/ 670 :                            ;
 1888/ 670 :                            ;mb_dump()
 1889/ 670 :                            ;{
 1890/ 670 :                            mb_dump:
 1891/ 670 :                            ;	push(p2);
 1892/ 670 : 56                         	push	p2
 1893/ 671 :                            ;	p2=#mb;p2_dump();
 1894/ 671 : 26 CC 2D                   	ld	p2, =mb
 1895/ 674 : 20 45 06                   	jsr	p2_dump
 1896/ 677 :                            ;	pop(p2);
 1897/ 677 : 5E                         	pop	p2
 1898/ 678 :                            ;}
 1899/ 678 : 5C                         	ret
 1900/ 679 :                            ;
 1901/ 679 :                            ;mc_dump()
 1902/ 679 :                            ;{
 1903/ 679 :                            mc_dump:
 1904/ 679 :                            ;	push(p2);
 1905/ 679 : 56                         	push	p2
 1906/ 67A :                            ;	p2=#mc;p2_dump();
 1907/ 67A : 26 56 41                   	ld	p2, =mc
 1908/ 67D : 20 45 06                   	jsr	p2_dump
 1909/ 680 :                            ;	pop(p2);
 1910/ 680 : 5E                         	pop	p2
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 34 - 2025年01月24日 12時43分11秒


 1911/ 681 :                            ;}
 1912/ 681 : 5C                         	ret
 1913/ 682 :                            ;
 1914/ 682 :                            ;/**********************************************************************
 1915/ 682 :                            ; *	マチンの公式でπを計算して、Pi に格納
 1916/ 682 :                            ; **********************************************************************
 1917/ 682 :                            ; */
 1918/ 682 :                            ;calc_pi()
 1919/ 682 :                            ;{
 1920/ 682 :                            calc_pi:
 1921/ 682 :                            ;//	16 arctan(1/5)
 1922/ 682 :                            ;	m1=16;n1=5;
 1923/ 682 : C4 10                      	ld	a, =16
 1924/ 684 : CD B6                      	st	a,m1
 1925/ 686 : C4 05                      	ld	a, =5
 1926/ 688 : CD B8                      	st	a,n1
 1927/ 68A :                            ;	calc_M_atan_1_N();
 1928/ 68A : 20 A0 05                   	jsr	calc_M_atan_1_N
 1929/ 68D :                            ;	p2=#Pi ; p3=#ma ; mp_copy();		//	*Pi = *ma;
 1930/ 68D : 26 B8 06                   	ld	p2, =Pi
 1931/ 690 : 27 42 1A                   	ld	p3, =ma
 1932/ 693 : 20 81 03                   	jsr	mp_copy
 1933/ 696 :                            ;
 1934/ 696 :                            ;// -4 arctan(1/239)
 1935/ 696 :                            ;	m1=4;n1=239;
 1936/ 696 : C4 04                      	ld	a, =4
 1937/ 698 : CD B6                      	st	a,m1
 1938/ 69A : C4 EF                      	ld	a, =239
 1939/ 69C : CD B8                      	st	a,n1
 1940/ 69E :                            ;	calc_M_atan_1_N();
 1941/ 69E : 20 A0 05                   	jsr	calc_M_atan_1_N
 1942/ 6A1 :                            ;	p2=#Pi ; p3=#ma ; mp_sub();			// *Pi -= *ma;
 1943/ 6A1 : 26 B8 06                   	ld	p2, =Pi
 1944/ 6A4 : 27 42 1A                   	ld	p3, =ma
 1945/ 6A7 : 20 8C 04                   	jsr	mp_sub
 1946/ 6AA :                            ;
 1947/ 6AA :                            ;// ===> Pi
 1948/ 6AA :                            ;}
 1949/ 6AA : 5C                         	ret
 1950/ 6AB :                            ;
 1951/ 6AB :                            ;/**********************************************************************
 1952/ 6AB :                            ; *	メインルーチン.
 1953/ 6AB :                            ; **********************************************************************
 1954/ 6AB :                            ; */
 1955/ 6AB :                            ;pi_main()
 1956/ 6AB :                            ;{
 1957/ 6AB :                            pi_main:
 1958/ 6AB :                            ;	//div_test8();return;
 1959/ 6AB :                            ;
 1960/ 6AB :                            ;	p2=#PI_MSG_1;puts();	
 1961/ 6AB : 26 9C 02                   	ld	p2, =PI_MSG_1
 1962/ 6AE : 20 E0 01                   	jsr	puts
 1963/ 6B1 :                            ;
 1964/ 6B1 :                            ;	// 円周率計算.
 1965/ 6B1 :                            ;	calc_pi();
 1966/ 6B1 : 20 81 06                   	jsr	calc_pi
 1967/ 6B4 :                            ;
 1968/ 6B4 :                            ;	// 円周率Print.
 1969/ 6B4 :                            ;	print_pi();
 1970/ 6B4 : 20 25 05                   	jsr	print_pi
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 35 - 2025年01月24日 12時43分11秒


 1971/ 6B7 :                            ;}
 1972/ 6B7 : 5C                         	ret
 1973/ 6B8 :                            ;/**********************************************************************
 1974/ 6B8 :                            ; *
 1975/ 6B8 :                            ; **********************************************************************
 1976/ 6B8 :                            ; */
 1977/ 6B8 :                            ;
 1978/ 6B8 :                            ;Pi: 
 1979/ 6B8 :                            Pi:
 1980/ 6B8 :                            ;	ds(PRECISION+2);
 1981/ 6B8 :                            	ds	PRECISION+2
 1982/1A42 :                            ;ma: 
 1983/1A42 :                            ma:
 1984/1A42 :                            ;	ds(PRECISION+2);
 1985/1A42 :                            	ds	PRECISION+2
 1986/2DCC :                            ;mb: 
 1987/2DCC :                            mb:
 1988/2DCC :                            ;	ds(PRECISION+2);
 1989/2DCC :                            	ds	PRECISION+2
 1990/4156 :                            ;mc: 
 1991/4156 :                            mc:
 1992/4156 :                            ;	ds(PRECISION+2);
 1993/4156 :                            	ds	PRECISION+2
 1994/54E0 :                            ;_workend:
 1995/54E0 :                            _workend:
 1996/54E0 :                            ;	ds(2);
 1997/54E0 :                            	ds	2
 1998/54E2 :                            ;//
 1999/54E2 :                            
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 36 - 2025年01月24日 12時43分11秒


  Symbol Table (* = unused):
  --------------------------

*ARCHITECTURE :                                      "x86_64-unknown-linux" - |
 ASCDUMP1 :                     119 C |  ASCDUMP_16 :                    FE C |
 ASCDUMP_8 :                    10B C | *BENCHMARK :                     34 C |
 BENCH_SUBR :                    51 C |  BENCH_SUBR2 :                   5D C |
*BUFEND :                       29B C |  CALC_M_ATAN_1_N :              5A1 C |
 CALC_PI :                      682 C | *CASESENSITIVE :                  0 - |
 CHR1 :                        FFBC - |  CMD :                           62 C |
 CNT1 :                        FF81 - |  CNT2 :                        FF82 - |
 CNT3 :                        FFB3 - | *CNT4 :                        FFB4 - |
*CONSTPI :        3.141592653589793 - |  CYR0 :                        FFB0 - |
 CYR1 :                        FFB1 - |  CYR2 :                        FFB2 - |
*DATE :             "2025\-027\-071\-07601\-026\-100\-12024\-026\-105\-091" - |
 DIV16_8 :                      2FE C |  DIV32_16 :                     2C2 C |
 DIVCNT :                      FFA6 - | *DIV_TEST16 :                   30E C |
*DIV_TEST8 :                    329 C | *DUMP_PI :                      63F C |
 EA_MUL10 :                     4DA C |  EA_MUL_EA :                    4E1 C |
 EXIT :                           B C | *FALSE :                          0 - |
 GETC :                           7 C |  GETS :                         1EB C |
*HAS64 :                          1 - |  INBUF :                        21B C |
 INDX0 :                       FFC0 - | *INDX1 :                       FFC1 - |
 LC :                           144 C |  LF1 :                         FFBB - |
*LISTON :                         1 - |  M1 :                          FFB6 - |
 MA :                          1A42 C | *MACEXP :                         7 - |
 MAIN :                           D C |  MA_DUMP :                      667 C |
 MB :                          2DCC C | *MB_DUMP :                      670 C |
 MC :                          4156 C | *MC_DUMP :                      679 C |
 MDUMP :                        157 C |  MDUMP_16 :                     163 C |
 MDUMP_8 :                      17E C | *MDUMP_B16 :                    18F C |
*MOMCPU :                      8070 - | *MOMCPUNAME :                "8070" - |
 MP_ADD :                       440 C |  MP_COPY :                      382 C |
 MP_DIV :                       3EF C |  MP_DIV8 :                      3C2 C |
 MP_DIV_ZEROSKIP16 :            396 C |  MP_DIV_ZEROSKIP8 :             3AE C |
 MP_MUL10 :                     4E5 C |  MP_SET :                       34C C |
 MP_SUB :                       48D C |  MP_ZEROCHK :                   368 C |
 MSG1 :                         202 C |  N1 :                          FFB8 - |
*NESTMAX :                      100 - |  N_2 :                         FFC2 - |
 P2_DUMP :                      646 C |  P2_LAST :                      42E C |
 P3_LAST :                      437 C |  P4 :                          FF84 - |
 P4MUL16 :                       9D C |  P5 :                          FF86 - |
 PI :                           6B8 C | *PI_DUMP :                      65E C |
 PI_EQU_1 :                     2B6 C |  PI_EQU_2 :                     2BC C |
 PI_MAIN :                      6AB C |  PI_MSG_1 :                     29C C |
 PRECISION :                   1388 - |  PRHEX1 :                       1B8 C |
 PRHEX2 :                       1A9 C |  PRHEX4 :                       1A0 C |
 PRINT_PI :                     526 C |  PR_SPC :                       1D0 C |
 PUTC :                           9 C |  PUTS :                         1E1 C |
 PUT_CRLF :                     1D6 C |  Q0 :                          FFA0 - |
*Q0_DUMP :                      655 C |  Q1 :                          FFA1 - |
 Q2 :                          FFA2 - | *Q3 :                          FFA3 - |
 Q4 :                          FFA4 - |  Q5 :                          FFA5 - |
 R0 :                          FFA8 - |  R1 :                          FFAA - |
 R2 :                          FFAC - |  R3 :                          FFAE - |
 R4 :                          FF83 - |  READHEX :                       A8 C |
 READHEX1 :                      D7 C | *RELAXED :                        0 - |
 SIGN1 :                       FFB9 - |  SP_SKIP :                       8F C |
 TAB1 :                        FFBA - |
*TIME :               "12\-026\-103\-12643\-027\-120\-12211\-025\-089\-110" - |
 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 37 - 2025年01月24日 12時43分11秒


 TOP1 :                        FFBD - | *TRUE :                           1 - |
*UC :                           131 C | *VERSION :                     142F - |
*WK1 :                         FF80 - | *_WORKEND :                    54E0 C |
 __DO001 :                       38 C |  __DO002 :                       3C C |
 __DO003 :                       55 C |  __DO014 :                      10F C |
 __DO021 :                      15B C |  __DO022 :                      182 C |
 __DO023 :                      193 C |  __DO025 :                      1E1 C |
 __DO026 :                      1EB C |  __DO027 :                      2D2 C |
 __DO029 :                      359 C |  __DO030 :                      370 C |
 __DO032 :                      387 C |  __DO033 :                      396 C |
 __DO035 :                      3AE C |  __DO038 :                      3D1 C |
 __DO042 :                      410 C |  __DO043 :                      463 C |
 __DO045 :                      4B0 C |  __DO047 :                      501 C |
 __DO048 :                      53B C |  __EL004 :                       86 C |
 __EL005 :                       79 C |  __EL006 :                       8E C |
 __EL009 :                       D0 C |  __EL010 :                       EB C |
 __EL011 :                       EB C |  __EL012 :                       FB C |
 __EL013 :                       FB C |  __EL015 :                      122 C |
 __EL016 :                      12C C |  __EL017 :                      142 C |
 __EL018 :                      142 C |  __EL019 :                      155 C |
 __EL020 :                      155 C |  __EL024 :                      1C8 C |
 __EL028 :                      2F8 C |  __EL031 :                      375 C |
 __EL034 :                      39F C |  __EL036 :                      3B3 C |
 __EL037 :                      3CD C |  __EL039 :                      404 C |
 __EL040 :                      404 C |  __EL041 :                      410 C |
 __EL044 :                      47E C |  __EL046 :                      4CB C |
 __EL049 :                      56C C |  __EL050 :                      593 C |
 __EL051 :                      593 C |  __EL053 :                      5E7 C |
 __EL054 :                      62C C | *__EW000 :                       30 C |
 __EW007 :                       9C C | *__EW008 :                       D6 C |
 __EW052 :                      639 C |  __FI009 :                       D3 C |
 __FI024 :                      1C9 C |  __FI028 :                      2F9 C |
 __FI049 :                      593 C |  __FI053 :                      5FF C |
 __FI054 :                      62F C | *__OD001 :                       47 C |
*__OD002 :                       43 C | *__OD003 :                       5C C |
*__OD014 :                      118 C | *__OD021 :                      162 C |
*__OD022 :                      18E C | *__OD023 :                      19F C |
 __OD025 :                      1EA C |  __OD026 :                      1FD C |
*__OD027 :                      2FD C | *__OD029 :                      367 C |
*__OD030 :                      37F C | *__OD032 :                      395 C |
*__OD033 :                      3AB C | *__OD035 :                      3BF C |
*__OD038 :                      3EE C | *__OD042 :                      42D C |
*__OD043 :                      48C C | *__OD045 :                      4D9 C |
*__OD047 :                      525 C | *__OD048 :                      59D C |
 __WH000 :                       16 C |  __WH007 :                       91 C |
 __WH008 :                       AF C |  __WH052 :                      5D6 C |

    202 symbols
     52 unused symbols

 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 38 - 2025年01月24日 12時43分11秒


  Defined Macros:
  ---------------

DEC_W                                 |

      1 macro

 AS V1.42 Beta [Bld 269] - Source File moni3.asm - Page 39 - 2025年01月24日 12時43分11秒


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.00 seconds assembly time

   1999 lines source file
   2065 lines incl. macro expansions
      2 passes
      0 errors
      0 warnings
